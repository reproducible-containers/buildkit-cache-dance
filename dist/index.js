import*as e from"fs";import*as t from"os";import*as n from"path";import*as r from"http";import*as i from"https";import*as s from"net";import*as a from"tls";import*as o from"events";import*as c from"assert";import*as u from"util";import*as l from"child_process";!function(e,t,n,r,i,s,a,o){var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},u="function"==typeof c[r]&&c[r],l=u.i||{},d=u.cache||{},f="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function h(t,n){if(!d[t]){if(!e[t]){if(i[t])return i[t];var s="function"==typeof c[r]&&c[r];if(!n&&s)return s(t,!0);if(u)return u(t,!0);if(f&&"string"==typeof t)return f(t);var a=Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}l.resolve=function(n){var r=e[t][1][n];return null!=r?r:n},l.cache={};var o=d[t]=new h.Module(t);e[t][0].call(o.exports,l,o,o.exports,c)}return d[t].exports;function l(e){var t=l.resolve(e);return!1===t?{}:h(t)}}h.isParcelRequire=!0,h.Module=function(e){this.id=e,this.bundle=h,this.require=f,this.exports={}},h.modules=e,h.cache=d,h.parent=u,h.distDir=void 0,h.publicUrl=void 0,h.devServer=void 0,h.i=l,h.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(h,"root",{get:function(){return c[r]}}),c[r]=h;for(var g=0;g<t.length;g++)h(t[g]);if(n){var p=h(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof define&&define.amd&&define(function(){return p})}}({"7sz5b":[function(e,t,n,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js"),s=e("fs"),a=e("os"),o=i.interopDefault(a),c=e("./inject-cache.js"),u=e("./extract-cache.js"),l=e("./opts.js");(async function(e){let t=(0,l.parseOpts)(e);if(t.help)return(0,l.help)();t.extract?await (0,u.extractCaches)(t):(void 0!==process.env.GITHUB_STATE&&await s.promises.appendFile(process.env.GITHUB_STATE,`POST=true${o.default.EOL}`),await (0,c.injectCaches)(t))})(process.argv).catch(e=>{console.error(e),e instanceof Error&&console.error(e.stack),process.exit(1)})},{fs:"fs",os:"os","./inject-cache.js":"g8Odb","./extract-cache.js":"14eXt","./opts.js":"bjlzi","@parcel/transformer-js/src/esmodule-helpers.js":"8h9S8"}],g8Odb:[function(e,t,n,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(n),i.export(n,"injectCaches",()=>f);var s=e("fs"),a=e("path"),o=i.interopDefault(a),c=e("./opts.js"),u=e("./run.js"),l=e("@actions/core/lib/core.js");async function d(e,t,n,r,i){await s.promises.rm(n,{recursive:!0,force:!0}),await s.promises.mkdir(n,{recursive:!0}),await s.promises.mkdir(e,{recursive:!0});let a=new Date().toISOString();await s.promises.writeFile(o.default.join(e,"buildstamp"),a);let d=(0,c.getTargetPath)(t),f=(0,c.getMountArgsString)(t),h="",g=(0,c.getUID)(t),p=(0,c.getGID)(t);(""!==g||""!==p)&&(h=`&& chown -R ${g}:${p} ${d}`);let m=`
FROM ${r}
COPY buildstamp buildstamp
RUN --mount=${f} \
    --mount=type=bind,source=.,target=/var/dance-cache \
    cp -p -R /var/dance-cache/. ${d} ${h} || true
`;await s.promises.writeFile(o.default.join(n,"Dancefile.inject"),m),console.log(m),await (0,u.run)("docker",["buildx","build","--builder",i,"-f",o.default.join(n,"Dancefile.inject"),"--tag","dance:inject",e]);try{await s.promises.rm(e,{recursive:!0,force:!0})}catch(e){(0,l.notice)(`Error while cleaning cache source directory: ${e}. Ignoring...`)}}async function f(e){let t=await (0,c.getCacheMap)(e),n=e["scratch-dir"],r=e["utility-image"],i=(0,c.getBuilder)(e);for(let[e,s]of Object.entries(t))await d(e,s,n,r,i)}},{fs:"fs",path:"path","./opts.js":"bjlzi","./run.js":"kHqLa","@actions/core/lib/core.js":"k7YnK","@parcel/transformer-js/src/esmodule-helpers.js":"8h9S8"}],bjlzi:[function(e,t,n,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(n),i.export(n,"parseOpts",()=>l),i.export(n,"help",()=>d),i.export(n,"getCacheMap",()=>h),i.export(n,"getTargetPath",()=>g),i.export(n,"getUID",()=>p),i.export(n,"getGID",()=>m),i.export(n,"getMountArgsString",()=>b),i.export(n,"getBuilder",()=>v);var s=e("mri"),a=i.interopDefault(s),o=e("fs"),c=e("@actions/core/lib/core.js"),u=e("dockerfile-ast");function l(e){let t=(0,a.default)(e,{default:{"cache-map":(0,c.getInput)("cache-map")||"{}",dockerfile:(0,c.getInput)("dockerfile")||"Dockerfile","cache-dir":(0,c.getInput)("cache-dir")||null,"scratch-dir":(0,c.getInput)("scratch-dir")||"scratch","skip-extraction":"true"===((0,c.getInput)("skip-extraction")||"false"),extract:void 0!==process.env.STATE_POST,"utility-image":(0,c.getInput)("utility-image")||"ghcr.io/containerd/busybox:latest",builder:(0,c.getInput)("builder")||"default",help:!1},string:["cache-map","dockerfile","cache-dir","scratch-dir","cache-source","cache-target","utility-image","builder"],boolean:["skip-extraction","help","extract"],alias:{help:["h"]}});return t["cache-source"]&&t["cache-target"]&&((0,c.warning)("The `cache-source` and `cache-target` options are deprecated. Use `cache-map` instead."),t["cache-map"]=JSON.stringify({[t["cache-source"]]:t["cache-target"]})),t}function d(){console.log(`build-cache-dance [options]
Save 'RUN --mount=type=cache' caches on GitHub Actions or other CI platforms

Options:
  --extract      Extract the cache from the docker container (extract step). Otherwise, inject the cache (main step)
  --cache-map    The map of actions source paths to container destination paths or mount arguments
  --dockerfile   The Dockerfile to use for auto-discovery of the cache-map. Default: 'Dockerfile'
  --cache-dir    The root directory where cache content is injected from/extracted to when using auto-discovery of the cache-map.
  --scratch-dir  Where the action is stores some temporary files for its processing. Default: 'scratch'
  --skip-extraction  Skip the extraction of the cache from the docker container
  --utility-image  The container image to use for injecting and extracting the cache. Default: 'ghcr.io/containerd/busybox:latest'
  --builder      The name of the buildx builder to use for the cache injection
  --help         Show this help
`)}async function f(e,t){let n=await o.promises.readFile(e,"utf-8"),r=u.DockerfileParser.parse(n),i={};for(let e of r.getInstructions().filter(e=>"RUN"==e.getKeyword()))for(let n of e.getFlags())if("mount"==n.getName()&&n.getOption("type")?.getValue()=="cache"){let r=n.getOption("id")?.getValue()||n.getOption("target")?.getValue();if(null==r)throw Error("cache mount must define id or target: "+n.toString()+" in "+e.toString());i[null!==t?`${t}/${r}`:r]={id:r,target:"/var/cache-target"}}return i}async function h(e){try{let t=JSON.parse(e["cache-map"]);if(0!==Object.keys(t).length)return t;console.log("No cache map provided. Trying to parse the Dockerfile to find the cache mount instructions...");let n=await f(e.dockerfile,e["cache-dir"]);return console.log(`Cache map parsed from Dockerfile: ${JSON.stringify(n)}`),n}catch(t){throw Error(`Failed to parse cache map. Expected JSON, got:
${e["cache-map"]}
${t}`)}}function g(e){if("string"==typeof e)return e;if("target"in e)return e.target;throw Error(`Expected the 'target' key in the cache options, got:
${e}`)}function p(e){return"string"==typeof e?"":"uid"in e&&void 0!==e.uid?e.uid.toString():""}function m(e){return"string"==typeof e?"":"gid"in e&&void 0!==e.gid?e.gid.toString():""}function b(e){if("string"==typeof e)return`type=cache,target=${e}`;{let t=Object.entries(e).map(([e,t])=>`${e}=${t}`).join(",");return`type=cache,${t}`}}function v(e){return null==e.builder||""==e.builder?"default":e.builder}},{mri:"5lGLa",fs:"fs","@actions/core/lib/core.js":"k7YnK","dockerfile-ast":"1irbL","@parcel/transformer-js/src/esmodule-helpers.js":"8h9S8"}],"5lGLa":[function(e,t,n,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return null==e?[]:Array.isArray(e)?e:[e]}i.defineInteropFlag(n),i.export(n,"default",()=>function(e,t){t=t||{};var n,r,i,a,o,c={_:[]},u=0,l=0,d=0,f=(e=e||[]).length;let h=void 0!==t.alias,g=void 0!==t.unknown,p=void 0!==t.default;if(t.alias=t.alias||{},t.string=s(t.string),t.boolean=s(t.boolean),h)for(n in t.alias)for(u=0,r=t.alias[n]=s(t.alias[n]);u<r.length;u++)(t.alias[r[u]]=r.concat(n)).splice(u,1);for(u=t.boolean.length;u-- >0;)for(l=(r=t.alias[t.boolean[u]]||[]).length;l-- >0;)t.boolean.push(r[l]);for(u=t.string.length;u-- >0;)for(l=(r=t.alias[t.string[u]]||[]).length;l-- >0;)t.string.push(r[l]);if(p){for(n in t.default)if(a=typeof t.default[n],r=t.alias[n]=t.alias[n]||[],void 0!==t[a])for(t[a].push(n),u=0;u<r.length;u++)t[a].push(r[u])}let m=g?Object.keys(t.alias):[];for(u=0;u<f;u++){if("--"===(i=e[u])){c._=c._.concat(e.slice(++u));break}for(l=0;l<i.length&&45===i.charCodeAt(l);l++);if(0===l)c._.push(i);else if("no-"===i.substring(l,l+3)){if(a=i.substring(l+3),g&&!~m.indexOf(a))return t.unknown(i);c[a]=!1}else{for(d=l+1;d<i.length&&61!==i.charCodeAt(d);d++);for(a=i.substring(l,d),o=i.substring(++d)||u+1===f||45===(""+e[u+1]).charCodeAt(0)||e[++u],r=2===l?[a]:a,d=0;d<r.length;d++){if(a=r[d],g&&!~m.indexOf(a))return t.unknown("-".repeat(l)+a);!function(e,t,n,r){var i,s=e[t],a=~r.string.indexOf(t)?null==n||!0===n?"":String(n):"boolean"==typeof n?n:~r.boolean.indexOf(t)?"false"!==n&&("true"===n||(e._.push(0*(i=+n)==0?i:n),!!n)):0*(i=+n)==0?i:n;e[t]=null==s?a:Array.isArray(s)?s.concat(a):[s,a]}(c,a,d+1<r.length||o,t)}}}if(p)for(n in t.default)void 0===c[n]&&(c[n]=t.default[n]);if(h)for(n in c)for(r=t.alias[n]||[];r.length>0;)c[r.shift()]=c[n];return c})},{"@parcel/transformer-js/src/esmodule-helpers.js":"8h9S8"}],"8h9S8":[function(e,t,n,r){n.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},n.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.exportAll=function(e,t){return Object.keys(e).forEach(function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})}),t},n.export=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:n})}},{}],k7YnK:[function(e,t,n,r){var i,s,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getIDToken=n.getState=n.saveState=n.group=n.endGroup=n.startGroup=n.info=n.notice=n.warning=n.error=n.debug=n.isDebug=n.setFailed=n.setCommandEcho=n.setOutput=n.getBooleanInput=n.getMultilineInput=n.getInput=n.addPath=n.setSecret=n.exportVariable=n.ExitCode=void 0;let l=e("e924a1cef16bef69"),d=e("16e43487988cdce8"),f=e("7f8c194a8c8f18e8"),h=c(e("92b8860262e27ba")),g=c(e("d28a375bd89b68cf")),p=e("7e9da61c1748be9");function m(e,t){let n=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!n)throw Error(`Input required and not supplied: ${e}`);return t&&!1===t.trimWhitespace?n:n.trim()}function b(e,t={}){l.issueCommand("error",f.toCommandProperties(t),e instanceof Error?e.toString():e)}function v(e){l.issue("group",e)}function A(){l.issue("endgroup")}(i=s=n.ExitCode||(n.ExitCode={}))[i.Success=0]="Success",i[i.Failure=1]="Failure",n.exportVariable=function(e,t){let n=f.toCommandValue(t);if(process.env[e]=n,process.env.GITHUB_ENV||0){let t="_GitHubActionsFileCommandDelimeter_",r=`${e}<<${t}${h.EOL}${n}${h.EOL}${t}`;d.issueCommand("ENV",r)}else l.issueCommand("set-env",{name:e},n)},n.setSecret=function(e){l.issueCommand("add-mask",{},e)},n.addPath=function(e){process.env.GITHUB_PATH?d.issueCommand("PATH",e):l.issueCommand("add-path",{},e),process.env.PATH=`${e}${g.delimiter}${process.env.PATH}`},n.getInput=m,n.getMultilineInput=function(e,t){return m(e,t).split("\n").filter(e=>""!==e)},n.getBooleanInput=function(e,t){let n=m(e,t);if(["true","True","TRUE"].includes(n))return!0;if(["false","False","FALSE"].includes(n))return!1;throw TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)},n.setOutput=function(e,t){process.stdout.write(h.EOL),l.issueCommand("set-output",{name:e},t)},n.setCommandEcho=function(e){l.issue("echo",e?"on":"off")},n.setFailed=function(e){process.exitCode=s.Failure,b(e)},n.isDebug=function(){return"1"===process.env.RUNNER_DEBUG},n.debug=function(e){l.issueCommand("debug",{},e)},n.error=b,n.warning=function(e,t={}){l.issueCommand("warning",f.toCommandProperties(t),e instanceof Error?e.toString():e)},n.notice=function(e,t={}){l.issueCommand("notice",f.toCommandProperties(t),e instanceof Error?e.toString():e)},n.info=function(e){process.stdout.write(e+h.EOL)},n.startGroup=v,n.endGroup=A,n.group=function(e,t){return u(this,void 0,void 0,function*(){let n;v(e);try{n=yield t()}finally{A()}return n})},n.saveState=function(e,t){l.issueCommand("save-state",{name:e},t)},n.getState=function(e){return process.env[`STATE_${e}`]||""},n.getIDToken=function(e){return u(this,void 0,void 0,function*(){return yield p.OidcClient.getIDToken(e)})};var y=e("e44daa22e4d4d53e");Object.defineProperty(n,"summary",{enumerable:!0,get:function(){return y.summary}});var R=e("e44daa22e4d4d53e");Object.defineProperty(n,"markdownSummary",{enumerable:!0,get:function(){return R.markdownSummary}})},{e924a1cef16bef69:"kZGXI","16e43487988cdce8":"gRxw7","7f8c194a8c8f18e8":"bO0ir","92b8860262e27ba":"os",d28a375bd89b68cf:"path","7e9da61c1748be9":"b9uNA",e44daa22e4d4d53e:"7Zbhg"}],kZGXI:[function(e,t,n,r){var i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.issue=n.issueCommand=void 0;let o=a(e("3737725acaa42483")),c=e("69b2ffcef1696d24");function u(e,t,n){let r=new l(e,t,n);process.stdout.write(r.toString()+o.EOL)}n.issueCommand=u,n.issue=function(e,t=""){u(e,{},t)};class l{constructor(e,t,n){e||(e="missing.command"),this.command=e,this.properties=t,this.message=n}toString(){var e,t;let n="::"+this.command;if(this.properties&&Object.keys(this.properties).length>0){n+=" ";let t=!0;for(let r in this.properties)if(this.properties.hasOwnProperty(r)){let i=this.properties[r];i&&(t?t=!1:n+=",",n+=`${r}=${e=i,c.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}`)}}return n+`::${t=this.message,c.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}`}}},{"3737725acaa42483":"os","69b2ffcef1696d24":"bO0ir"}],bO0ir:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.toCommandProperties=n.toCommandValue=void 0,n.toCommandValue=function(e){return null==e?"":"string"==typeof e||e instanceof String?e:JSON.stringify(e)},n.toCommandProperties=function(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}},{}],gRxw7:[function(e,t,n,r){var i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.issueCommand=void 0;let o=a(e("778c221d6defca47")),c=a(e("9ee56551f05bb7a0")),u=e("a1dde01443f9a1e6");n.issueCommand=function(e,t){let n=process.env[`GITHUB_${e}`];if(!n)throw Error(`Unable to find environment variable for file command ${e}`);if(!o.existsSync(n))throw Error(`Missing file at path: ${n}`);o.appendFileSync(n,`${u.toCommandValue(t)}${c.EOL}`,{encoding:"utf8"})}},{"778c221d6defca47":"fs","9ee56551f05bb7a0":"os",a1dde01443f9a1e6:"bO0ir"}],b9uNA:[function(e,t,n,r){var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.OidcClient=void 0;let s=e("6cdaf1fd914e5387"),a=e("8db37dcf5a5b1463"),o=e("1147ffd9ee1d6042");class c{static createHttpClient(e=!0,t=10){return new s.HttpClient("actions/oidc-client",[new a.BearerCredentialHandler(c.getRequestToken())],{allowRetries:e,maxRetries:t})}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var t;return i(this,void 0,void 0,function*(){let n=c.createHttpClient(),r=null==(t=(yield n.getJson(e).catch(e=>{throw Error(`Failed to get ID Token. 
 
        Error Code : ${e.statusCode}
 
        Error Message: ${e.result.message}`)})).result)?void 0:t.value;if(!r)throw Error("Response json body do not have ID Token field");return r})}static getIDToken(e){return i(this,void 0,void 0,function*(){try{let t=c.getIDTokenUrl();if(e){let n=encodeURIComponent(e);t=`${t}&audience=${n}`}o.debug(`ID token url is ${t}`);let n=yield c.getCall(t);return o.setSecret(n),n}catch(e){throw Error(`Error message: ${e.message}`)}})}}n.OidcClient=c},{"6cdaf1fd914e5387":"bTnEL","8db37dcf5a5b1463":"lQXpe","1147ffd9ee1d6042":"k7YnK"}],bTnEL:[function(e,t,n,r){var i,s,a,o,c;let u;Object.defineProperty(n,"__esModule",{value:!0});let l=e("69cee5eb1e6c891e"),d=e("5135743cad10c017"),f=e("74ceafcf2537bb1e");(o=i=n.HttpCodes||(n.HttpCodes={}))[o.OK=200]="OK",o[o.MultipleChoices=300]="MultipleChoices",o[o.MovedPermanently=301]="MovedPermanently",o[o.ResourceMoved=302]="ResourceMoved",o[o.SeeOther=303]="SeeOther",o[o.NotModified=304]="NotModified",o[o.UseProxy=305]="UseProxy",o[o.SwitchProxy=306]="SwitchProxy",o[o.TemporaryRedirect=307]="TemporaryRedirect",o[o.PermanentRedirect=308]="PermanentRedirect",o[o.BadRequest=400]="BadRequest",o[o.Unauthorized=401]="Unauthorized",o[o.PaymentRequired=402]="PaymentRequired",o[o.Forbidden=403]="Forbidden",o[o.NotFound=404]="NotFound",o[o.MethodNotAllowed=405]="MethodNotAllowed",o[o.NotAcceptable=406]="NotAcceptable",o[o.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",o[o.RequestTimeout=408]="RequestTimeout",o[o.Conflict=409]="Conflict",o[o.Gone=410]="Gone",o[o.TooManyRequests=429]="TooManyRequests",o[o.InternalServerError=500]="InternalServerError",o[o.NotImplemented=501]="NotImplemented",o[o.BadGateway=502]="BadGateway",o[o.ServiceUnavailable=503]="ServiceUnavailable",o[o.GatewayTimeout=504]="GatewayTimeout",(c=s=n.Headers||(n.Headers={})).Accept="accept",c.ContentType="content-type",(a=n.MediaTypes||(n.MediaTypes={})).ApplicationJson="application/json",n.getProxyUrl=function(e){let t=f.getProxyUrl(new URL(e));return t?t.href:""};let h=[i.MovedPermanently,i.ResourceMoved,i.SeeOther,i.TemporaryRedirect,i.PermanentRedirect],g=[i.BadGateway,i.ServiceUnavailable,i.GatewayTimeout],p=["OPTIONS","GET","DELETE","HEAD"];class m extends Error{constructor(e,t){super(e),this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,m.prototype)}}n.HttpClientError=m;class b{constructor(e){this.message=e}readBody(){return new Promise(async(e,t)=>{let n=Buffer.alloc(0);this.message.on("data",e=>{n=Buffer.concat([n,e])}),this.message.on("end",()=>{e(n.toString())})})}}n.HttpClientResponse=b,n.isHttps=function(e){return"https:"===new URL(e).protocol};class v{constructor(e,t,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=t||[],this.requestOptions=n,n&&(null!=n.ignoreSslError&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,null!=n.allowRedirects&&(this._allowRedirects=n.allowRedirects),null!=n.allowRedirectDowngrade&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),null!=n.maxRedirects&&(this._maxRedirects=Math.max(n.maxRedirects,0)),null!=n.keepAlive&&(this._keepAlive=n.keepAlive),null!=n.allowRetries&&(this._allowRetries=n.allowRetries),null!=n.maxRetries&&(this._maxRetries=n.maxRetries))}options(e,t){return this.request("OPTIONS",e,null,t||{})}get(e,t){return this.request("GET",e,null,t||{})}del(e,t){return this.request("DELETE",e,null,t||{})}post(e,t,n){return this.request("POST",e,t,n||{})}patch(e,t,n){return this.request("PATCH",e,t,n||{})}put(e,t,n){return this.request("PUT",e,t,n||{})}head(e,t){return this.request("HEAD",e,null,t||{})}sendStream(e,t,n,r){return this.request(e,t,n,r)}async getJson(e,t={}){t[s.Accept]=this._getExistingOrDefaultHeader(t,s.Accept,a.ApplicationJson);let n=await this.get(e,t);return this._processResponse(n,this.requestOptions)}async postJson(e,t,n={}){let r=JSON.stringify(t,null,2);n[s.Accept]=this._getExistingOrDefaultHeader(n,s.Accept,a.ApplicationJson),n[s.ContentType]=this._getExistingOrDefaultHeader(n,s.ContentType,a.ApplicationJson);let i=await this.post(e,r,n);return this._processResponse(i,this.requestOptions)}async putJson(e,t,n={}){let r=JSON.stringify(t,null,2);n[s.Accept]=this._getExistingOrDefaultHeader(n,s.Accept,a.ApplicationJson),n[s.ContentType]=this._getExistingOrDefaultHeader(n,s.ContentType,a.ApplicationJson);let i=await this.put(e,r,n);return this._processResponse(i,this.requestOptions)}async patchJson(e,t,n={}){let r=JSON.stringify(t,null,2);n[s.Accept]=this._getExistingOrDefaultHeader(n,s.Accept,a.ApplicationJson),n[s.ContentType]=this._getExistingOrDefaultHeader(n,s.ContentType,a.ApplicationJson);let i=await this.patch(e,r,n);return this._processResponse(i,this.requestOptions)}async request(e,t,n,r){let s;if(this._disposed)throw Error("Client has already been disposed.");let a=new URL(t),o=this._prepareRequest(e,a,r),c=this._allowRetries&&-1!=p.indexOf(e)?this._maxRetries+1:1,u=0;for(;u<c;){if((s=await this.requestRaw(o,n))&&s.message&&s.message.statusCode===i.Unauthorized){let e;for(let t=0;t<this.handlers.length;t++)if(this.handlers[t].canHandleAuthentication(s)){e=this.handlers[t];break}if(e)return e.handleAuthentication(this,o,n);break}let t=this._maxRedirects;for(;-1!=h.indexOf(s.message.statusCode)&&this._allowRedirects&&t>0;){let i=s.message.headers.location;if(!i)break;let c=new URL(i);if("https:"==a.protocol&&a.protocol!=c.protocol&&!this._allowRedirectDowngrade)throw Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(await s.readBody(),c.hostname!==a.hostname)for(let e in r)"authorization"===e.toLowerCase()&&delete r[e];o=this._prepareRequest(e,c,r),s=await this.requestRaw(o,n),t--}if(-1==g.indexOf(s.message.statusCode))break;(u+=1)<c&&(await s.readBody(),await this._performExponentialBackoff(u))}return s}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,t){return new Promise((n,r)=>{this.requestRawWithCallback(e,t,function(e,t){e&&r(e),n(t)})})}requestRawWithCallback(e,t,n){let r;"string"==typeof t&&(e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let i=!1,s=(e,t)=>{i||(i=!0,n(e,t))},a=e.httpModule.request(e.options,e=>{s(null,new b(e))});a.on("socket",e=>{r=e}),a.setTimeout(this._socketTimeout||18e4,()=>{r&&r.end(),s(Error("Request timeout: "+e.options.path),null)}),a.on("error",function(e){s(e,null)}),t&&"string"==typeof t&&a.write(t,"utf8"),t&&"string"!=typeof t?(t.on("close",function(){a.end()}),t.pipe(a)):a.end()}getAgent(e){let t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,n){let r={};r.parsedUrl=t;let i="https:"===r.parsedUrl.protocol;return r.httpModule=i?d:l,r.options={},r.options.host=r.parsedUrl.hostname,r.options.port=r.parsedUrl.port?parseInt(r.parsedUrl.port):i?443:80,r.options.path=(r.parsedUrl.pathname||"")+(r.parsedUrl.search||""),r.options.method=e,r.options.headers=this._mergeHeaders(n),null!=this.userAgent&&(r.options.headers["user-agent"]=this.userAgent),r.options.agent=this._getAgent(r.parsedUrl),this.handlers&&this.handlers.forEach(e=>{e.prepareRequest(r.options)}),r}_mergeHeaders(e){let t=e=>Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{});return this.requestOptions&&this.requestOptions.headers?Object.assign({},t(this.requestOptions.headers),t(e)):t(e||{})}_getExistingOrDefaultHeader(e,t,n){let r,i;return this.requestOptions&&this.requestOptions.headers&&(r=Object.keys(i=this.requestOptions.headers).reduce((e,t)=>(e[t.toLowerCase()]=i[t],e),{})[t]),e[t]||r||n}_getAgent(t){let n,r=f.getProxyUrl(t),i=r&&r.hostname;if(this._keepAlive&&i&&(n=this._proxyAgent),this._keepAlive&&!i&&(n=this._agent),n)return n;let s="https:"===t.protocol,a=100;if(this.requestOptions&&(a=this.requestOptions.maxSockets||l.globalAgent.maxSockets),i){let t;u||(u=e("591dff9a34bef599"));let i={maxSockets:a,keepAlive:this._keepAlive,proxy:{...(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`},host:r.hostname,port:r.port}},o="https:"===r.protocol;n=(s?o?u.httpsOverHttps:u.httpsOverHttp:o?u.httpOverHttps:u.httpOverHttp)(i),this._proxyAgent=n}if(this._keepAlive&&!n){let e={keepAlive:this._keepAlive,maxSockets:a};n=s?new d.Agent(e):new l.Agent(e),this._agent=n}return n||(n=s?d.globalAgent:l.globalAgent),s&&this._ignoreSslError&&(n.options=Object.assign(n.options||{},{rejectUnauthorized:!1})),n}_performExponentialBackoff(e){let t=5*Math.pow(2,e=Math.min(10,e));return new Promise(e=>setTimeout(()=>e(),t))}static dateTimeDeserializer(e,t){if("string"==typeof t){let e=new Date(t);if(!isNaN(e.valueOf()))return e}return t}async _processResponse(e,t){return new Promise(async(n,r)=>{let s,a,o=e.message.statusCode,c={statusCode:o,result:null,headers:{}};o==i.NotFound&&n(c);try{(a=await e.readBody())&&a.length>0&&(c.result=s=t&&t.deserializeDates?JSON.parse(a,v.dateTimeDeserializer):JSON.parse(a)),c.headers=e.message.headers}catch(e){}if(o>299){let e,t=new m(s&&s.message?s.message:a&&a.length>0?a:"Failed request: ("+o+")",o);t.result=c.result,r(t)}else n(c)})}}n.HttpClient=v},{"69cee5eb1e6c891e":"http","5135743cad10c017":"https","74ceafcf2537bb1e":"jyPkM","591dff9a34bef599":"fHNgG"}],jyPkM:[function(e,t,n,r){function i(e){let t;if(!e.hostname)return!1;let n=process.env.no_proxy||process.env.NO_PROXY||"";if(!n)return!1;e.port?t=Number(e.port):"http:"===e.protocol?t=80:"https:"===e.protocol&&(t=443);let r=[e.hostname.toUpperCase()];for(let e of("number"==typeof t&&r.push(`${r[0]}:${t}`),n.split(",").map(e=>e.trim().toUpperCase()).filter(e=>e)))if(r.some(t=>t===e))return!0;return!1}Object.defineProperty(n,"__esModule",{value:!0}),n.getProxyUrl=function(e){let t,n,r="https:"===e.protocol;return i(e)||(n=r?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)&&(t=new URL(n)),t},n.checkBypass=i},{}],fHNgG:[function(e,t,n,r){t.exports=e("4930519cb3dd45a3")},{"4930519cb3dd45a3":"Z7Qtc"}],Z7Qtc:[function(e,t,n,r){e("5121e3e37efd6d5e");var i,s=e("2f892df2fa9f0920"),a=e("d8f61135d445c2eb"),o=e("4422f117af5fb5c5"),c=e("2bf2dc2e245634a1");e("d682d38a2480f4c");var u=e("8150fd083365f338");function l(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||a.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(e,n,r,i){for(var s=f(n,r,i),a=0,o=t.requests.length;a<o;++a){var c=t.requests[a];if(c.host===s.host&&c.port===s.port){t.requests.splice(a,1),c.request.onSocket(e);return}}e.destroy(),t.removeSocket(e)})}function d(e,t){var n=this;l.prototype.createSocket.call(n,e,function(r){var i=e.request.getHeader("host"),a=h({},n.options,{socket:r,servername:i?i.replace(/:.*$/,""):e.host}),o=s.connect(0,a);n.sockets[n.sockets.indexOf(r)]=o,t(o)})}function f(e,t,n){return"string"==typeof e?{host:e,port:t,localAddress:n}:e}function h(e){for(var t=1,n=arguments.length;t<n;++t){var r=arguments[t];if("object"==typeof r)for(var i=Object.keys(r),s=0,a=i.length;s<a;++s){var o=i[s];void 0!==r[o]&&(e[o]=r[o])}}return e}n.httpOverHttp=function(e){var t=new l(e);return t.request=a.request,t},n.httpsOverHttp=function(e){var t=new l(e);return t.request=a.request,t.createSocket=d,t.defaultPort=443,t},n.httpOverHttps=function(e){var t=new l(e);return t.request=o.request,t},n.httpsOverHttps=function(e){var t=new l(e);return t.request=o.request,t.createSocket=d,t.defaultPort=443,t},u.inherits(l,c.EventEmitter),l.prototype.addRequest=function(e,t,n,r){var i=this,s=h({request:e},i.options,f(t,n,r));if(i.sockets.length>=this.maxSockets)return void i.requests.push(s);i.createSocket(s,function(t){function n(){i.emit("free",t,s)}function r(e){i.removeSocket(t),t.removeListener("free",n),t.removeListener("close",r),t.removeListener("agentRemove",r)}t.on("free",n),t.on("close",r),t.on("agentRemove",r),e.onSocket(t)})},l.prototype.createSocket=function(e,t){var n=this,r={};n.sockets.push(r);var s=h({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),i("making CONNECT request");var a=n.request(s);function o(s,o,c){if(a.removeAllListeners(),o.removeAllListeners(),200!==s.statusCode){i("tunneling socket could not be established, statusCode=%d",s.statusCode),o.destroy();var u=Error("tunneling socket could not be established, statusCode="+s.statusCode);u.code="ECONNRESET",e.request.emit("error",u),n.removeSocket(r);return}if(c.length>0){i("got illegal response body from proxy"),o.destroy();var u=Error("got illegal response body from proxy");u.code="ECONNRESET",e.request.emit("error",u),n.removeSocket(r);return}return i("tunneling connection has established"),n.sockets[n.sockets.indexOf(r)]=o,t(o)}a.useChunkedEncodingByDefault=!1,a.once("response",function(e){e.upgrade=!0}),a.once("upgrade",function(e,t,n){process.nextTick(function(){o(e,t,n)})}),a.once("connect",o),a.once("error",function(t){a.removeAllListeners(),i("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var s=Error("tunneling socket could not be established, cause="+t.message);s.code="ECONNRESET",e.request.emit("error",s),n.removeSocket(r)}),a.end()},l.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var n=this.requests.shift();n&&this.createSocket(n,function(e){n.request.onSocket(e)})}},n.debug=i=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){}},{"5121e3e37efd6d5e":"net","2f892df2fa9f0920":"tls",d8f61135d445c2eb:"http","4422f117af5fb5c5":"https","2bf2dc2e245634a1":"events",d682d38a2480f4c:"assert","8150fd083365f338":"util"}],lQXpe:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.BasicCredentialHandler=class{constructor(e,t){this.username=e,this.password=t}prepareRequest(e){e.headers.Authorization="Basic "+Buffer.from(this.username+":"+this.password).toString("base64")}canHandleAuthentication(e){return!1}handleAuthentication(e,t,n){return null}},n.BearerCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){e.headers.Authorization="Bearer "+this.token}canHandleAuthentication(e){return!1}handleAuthentication(e,t,n){return null}},n.PersonalAccessTokenCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){e.headers.Authorization="Basic "+Buffer.from("PAT:"+this.token).toString("base64")}canHandleAuthentication(e){return!1}handleAuthentication(e,t,n){return null}}},{}],"7Zbhg":[function(e,t,n,r){var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.summary=n.markdownSummary=n.SUMMARY_DOCS_URL=n.SUMMARY_ENV_VAR=void 0;let s=e("883cae28f50a90e7"),a=e("d52c794fdbfabbb1"),{access:o,appendFile:c,writeFile:u}=a.promises;n.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY",n.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";let l=new class{constructor(){this._buffer=""}filePath(){return i(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[n.SUMMARY_ENV_VAR];if(!e)throw Error(`Unable to find environment variable for $${n.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield o(e,a.constants.R_OK|a.constants.W_OK)}catch(t){throw Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,t,n={}){let r=Object.entries(n).map(([e,t])=>` ${e}="${t}"`).join("");return t?`<${e}${r}>${t}</${e}>`:`<${e}${r}>`}write(e){return i(this,void 0,void 0,function*(){let t=!!(null==e?void 0:e.overwrite),n=yield this.filePath();return yield(t?u:c)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return i(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return 0===this._buffer.length}emptyBuffer(){return this._buffer="",this}addRaw(e,t=!1){return this._buffer+=e,t?this.addEOL():this}addEOL(){return this.addRaw(s.EOL)}addCodeBlock(e,t){let n=Object.assign({},t&&{lang:t}),r=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(r).addEOL()}addList(e,t=!1){let n=e.map(e=>this.wrap("li",e)).join(""),r=this.wrap(t?"ol":"ul",n);return this.addRaw(r).addEOL()}addTable(e){let t=e.map(e=>{let t=e.map(e=>{if("string"==typeof e)return this.wrap("td",e);let{header:t,data:n,colspan:r,rowspan:i}=e,s=Object.assign(Object.assign({},r&&{colspan:r}),i&&{rowspan:i});return this.wrap(t?"th":"td",n,s)}).join("");return this.wrap("tr",t)}).join(""),n=this.wrap("table",t);return this.addRaw(n).addEOL()}addDetails(e,t){let n=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(n).addEOL()}addImage(e,t,n){let{width:r,height:i}=n||{},s=Object.assign(Object.assign({},r&&{width:r}),i&&{height:i}),a=this.wrap("img",null,Object.assign({src:e,alt:t},s));return this.addRaw(a).addEOL()}addHeading(e,t){let n=`h${t}`,r=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",i=this.wrap(r,e);return this.addRaw(i).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){let n=Object.assign({},t&&{cite:t}),r=this.wrap("blockquote",e,n);return this.addRaw(r).addEOL()}addLink(e,t){let n=this.wrap("a",e,{href:t});return this.addRaw(n).addEOL()}};n.markdownSummary=l,n.summary=l},{"883cae28f50a90e7":"os",d52c794fdbfabbb1:"fs"}],"1irbL":[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.DockerfileParser=n.DefaultVariables=n.Directive=n.Keyword=n.Workdir=n.Volume=n.User=n.Stopsignal=n.Shell=n.Run=n.PropertyInstruction=n.Onbuild=n.ModifiableInstruction=n.Label=n.JSONInstruction=n.Heredoc=n.Healthcheck=n.From=n.Env=n.Entrypoint=n.Copy=n.Cmd=n.Arg=n.Add=n.Variable=n.Property=n.ParserDirective=n.Line=n.Instruction=n.Flag=n.Comment=n.JSONArgument=n.Argument=void 0;var i,s,a,o,c,u=e("818c00e38db4fcf4");Object.defineProperty(n,"Argument",{enumerable:!0,get:function(){return u.Argument}});var l=e("c08f7534e96127a6");Object.defineProperty(n,"JSONArgument",{enumerable:!0,get:function(){return l.JSONArgument}});let d=e("1222b947cf52db6a");Object.defineProperty(n,"Comment",{enumerable:!0,get:function(){return d.Comment}});let f=e("76bd4faa688b3a6");var h=e("146dd26c02688bdf");Object.defineProperty(n,"Flag",{enumerable:!0,get:function(){return h.Flag}});let g=e("580224f94f990f62");Object.defineProperty(n,"Instruction",{enumerable:!0,get:function(){return g.Instruction}});var p=e("b10e9f8eeb123952");Object.defineProperty(n,"Line",{enumerable:!0,get:function(){return p.Line}});let m=e("48560c9781a127f2");Object.defineProperty(n,"ParserDirective",{enumerable:!0,get:function(){return m.ParserDirective}});var b=e("32b923ba03725fba");Object.defineProperty(n,"Property",{enumerable:!0,get:function(){return b.Property}});var v=e("38f5b7215a951c16");Object.defineProperty(n,"Variable",{enumerable:!0,get:function(){return v.Variable}});var A=e("46fe02f5a4ca95f9");Object.defineProperty(n,"Add",{enumerable:!0,get:function(){return A.Add}});let y=e("b50e6043532127e");Object.defineProperty(n,"Arg",{enumerable:!0,get:function(){return y.Arg}});let R=e("6151c2d28c8d5622");Object.defineProperty(n,"Cmd",{enumerable:!0,get:function(){return R.Cmd}});let w=e("302e65a20d20846c");Object.defineProperty(n,"Copy",{enumerable:!0,get:function(){return w.Copy}});let O=e("3b8f9736d90d33e6");Object.defineProperty(n,"Entrypoint",{enumerable:!0,get:function(){return O.Entrypoint}});let x=e("73053c83e5457e82");Object.defineProperty(n,"Env",{enumerable:!0,get:function(){return x.Env}});let k=e("fb70244a02539db4");Object.defineProperty(n,"From",{enumerable:!0,get:function(){return k.From}});let _=e("ce38775557f57e2");Object.defineProperty(n,"Healthcheck",{enumerable:!0,get:function(){return _.Healthcheck}});var C=e("3fc29578d4056add");Object.defineProperty(n,"Heredoc",{enumerable:!0,get:function(){return C.Heredoc}});var I=e("110dc2f32a5a5c80");Object.defineProperty(n,"JSONInstruction",{enumerable:!0,get:function(){return I.JSONInstruction}});var E=e("ea70ab055c82b9c6");Object.defineProperty(n,"Label",{enumerable:!0,get:function(){return E.Label}});var S=e("c1e4a9f72f3e4c8a");Object.defineProperty(n,"ModifiableInstruction",{enumerable:!0,get:function(){return S.ModifiableInstruction}});var T=e("1eb1f87000f1507b");Object.defineProperty(n,"Onbuild",{enumerable:!0,get:function(){return T.Onbuild}});var P=e("f04eacef530f3101");Object.defineProperty(n,"PropertyInstruction",{enumerable:!0,get:function(){return P.PropertyInstruction}});var j=e("efc72f3780a14232");Object.defineProperty(n,"Run",{enumerable:!0,get:function(){return j.Run}});var N=e("bb2b3970bd5df961");Object.defineProperty(n,"Shell",{enumerable:!0,get:function(){return N.Shell}});var L=e("3f106ce05bb305c2");Object.defineProperty(n,"Stopsignal",{enumerable:!0,get:function(){return L.Stopsignal}});var D=e("26177b9c0e662cb0");Object.defineProperty(n,"User",{enumerable:!0,get:function(){return D.User}});var M=e("657db89678e27c44");Object.defineProperty(n,"Volume",{enumerable:!0,get:function(){return M.Volume}});let U=e("7c097a1fe36e1e9e");Object.defineProperty(n,"Workdir",{enumerable:!0,get:function(){return U.Workdir}}),(i=a||(n.Keyword=a={})).ADD="ADD",i.ARG="ARG",i.CMD="CMD",i.COPY="COPY",i.ENTRYPOINT="ENTRYPOINT",i.ENV="ENV",i.EXPOSE="EXPOSE",i.FROM="FROM",i.HEALTHCHECK="HEALTHCHECK",i.LABEL="LABEL",i.MAINTAINER="MAINTAINER",i.ONBUILD="ONBUILD",i.RUN="RUN",i.SHELL="SHELL",i.STOPSIGNAL="STOPSIGNAL",i.USER="USER",i.VOLUME="VOLUME",i.WORKDIR="WORKDIR",(s=o||(n.Directive=o={})).escape="escape",s.syntax="syntax",n.DefaultVariables=["ALL_PROXY","all_proxy","FTP_PROXY","ftp_proxy","HTTP_PROXY","http_proxy","HTTPS_PROXY","https_proxy","NO_PROXY","no_proxy"],(c||(n.DockerfileParser=c={})).parse=function(e){return new f.Parser().parse(e)}},{"818c00e38db4fcf4":"j0TZA",c08f7534e96127a6:"58ALy","1222b947cf52db6a":"5T0KS","76bd4faa688b3a6":"aGQ73","146dd26c02688bdf":"2WqAd","580224f94f990f62":"hMvuU",b10e9f8eeb123952:"jax2A","48560c9781a127f2":"jIw2h","32b923ba03725fba":"gy5Z3","38f5b7215a951c16":"eGHet","46fe02f5a4ca95f9":"gRGNk",b50e6043532127e:"aKTxx","6151c2d28c8d5622":"9Gc1y","302e65a20d20846c":"b3t88","3b8f9736d90d33e6":"a7xJN","73053c83e5457e82":"1F4QE",fb70244a02539db4:"nTyT0",ce38775557f57e2:"bkMBh","3fc29578d4056add":"f2Bvm","110dc2f32a5a5c80":"jxSFH",ea70ab055c82b9c6:"57hgN",c1e4a9f72f3e4c8a:"hJrte","1eb1f87000f1507b":"8eYDK",f04eacef530f3101:"hOqfp",efc72f3780a14232:"bBCsY",bb2b3970bd5df961:"j6kkx","3f106ce05bb305c2":"bxm6V","26177b9c0e662cb0":"bSHO0","657db89678e27c44":"5fZdP","7c097a1fe36e1e9e":"alCEF"}],j0TZA:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Argument=void 0,n.Argument=class{constructor(e,t){this.value=e,this.range=t}toString(){return this.value}getRange(){return this.range}getValue(){return this.value}isAfter(e){return!(this.range.end.line<e.line)&&(this.range.start.line>e.line||this.range.start.character>e.character)}isBefore(e){return this.range.start.line<e.line||!(this.range.end.line>e.line)&&this.range.end.character<e.character}}},{}],"58ALy":[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.JSONArgument=void 0;let i=e("60b94b0b95605351");class s extends i.Argument{constructor(e,t,n){super(e,t),this.jsonRange=n}getJSONRange(){return this.jsonRange}getJSONValue(){let e=super.getValue();return e.substring(1,e.length-1)}}n.JSONArgument=s},{"60b94b0b95605351":"j0TZA"}],"5T0KS":[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Comment=void 0;let i=e("7469fdb9598c3ee1"),s=e("236e9d8672ea26a2"),a=e("d962123f7b2d05e");class o extends s.Line{constructor(e,t){super(e,t)}toString(){let e=this.getContent();return e?"# "+e:"#"}getContent(){let e=this.getContentRange();return null===e?"":this.document.getText().substring(this.document.offsetAt(e.start),this.document.offsetAt(e.end))}getContentRange(){let e=this.getRange(),t=this.document.offsetAt(e.start),n=this.document.getText().substring(t,this.document.offsetAt(e.end)),r=-1,s=-1;for(let e=1;e<n.length;e++)if(!a.Util.isWhitespace(n.charAt(e))){r=e;break}if(-1===r)return null;for(let e=n.length-1;e>=1;e--)if(!a.Util.isWhitespace(n.charAt(e))){s=e+1;break}return i.Range.create(this.document.positionAt(t+r),this.document.positionAt(t+s))}}n.Comment=o},{"7469fdb9598c3ee1":"ghSGy","236e9d8672ea26a2":"jax2A",d962123f7b2d05e:"7JXpr"}],ghSGy:[function(e,t,n,r){var i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0,(es||(t.DocumentUri=es={})).is=function(e){return"string"==typeof e},(ea||(t.URI=ea={})).is=function(e){return"string"==typeof e},(D=eo||(t.integer=eo={})).MIN_VALUE=-0x80000000,D.MAX_VALUE=0x7fffffff,D.is=function(e){return"number"==typeof e&&D.MIN_VALUE<=e&&e<=D.MAX_VALUE},(M=ec||(t.uinteger=ec={})).MIN_VALUE=0,M.MAX_VALUE=0x7fffffff,M.is=function(e){return"number"==typeof e&&M.MIN_VALUE<=e&&e<=M.MAX_VALUE},(U=eu||(t.Position=eu={})).create=function(e,t){return e===Number.MAX_VALUE&&(e=ec.MAX_VALUE),t===Number.MAX_VALUE&&(t=ec.MAX_VALUE),{line:e,character:t}},U.is=function(e){return ty.objectLiteral(e)&&ty.uinteger(e.line)&&ty.uinteger(e.character)},(V=el||(t.Range=el={})).create=function(e,t,n,r){if(ty.uinteger(e)&&ty.uinteger(t)&&ty.uinteger(n)&&ty.uinteger(r))return{start:eu.create(e,t),end:eu.create(n,r)};if(eu.is(e)&&eu.is(t))return{start:e,end:t};throw Error("Range#create called with invalid arguments[".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,"]"))},V.is=function(e){return ty.objectLiteral(e)&&eu.is(e.start)&&eu.is(e.end)},(F=ed||(t.Location=ed={})).create=function(e,t){return{uri:e,range:t}},F.is=function(e){return ty.objectLiteral(e)&&el.is(e.range)&&(ty.string(e.uri)||ty.undefined(e.uri))},(H=ef||(t.LocationLink=ef={})).create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},H.is=function(e){return ty.objectLiteral(e)&&el.is(e.targetRange)&&ty.string(e.targetUri)&&el.is(e.targetSelectionRange)&&(el.is(e.originSelectionRange)||ty.undefined(e.originSelectionRange))},(B=eh||(t.Color=eh={})).create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},B.is=function(e){return ty.objectLiteral(e)&&ty.numberRange(e.red,0,1)&&ty.numberRange(e.green,0,1)&&ty.numberRange(e.blue,0,1)&&ty.numberRange(e.alpha,0,1)},($=eg||(t.ColorInformation=eg={})).create=function(e,t){return{range:e,color:t}},$.is=function(e){return ty.objectLiteral(e)&&el.is(e.range)&&eh.is(e.color)},(q=ep||(t.ColorPresentation=ep={})).create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},q.is=function(e){return ty.objectLiteral(e)&&ty.string(e.label)&&(ty.undefined(e.textEdit)||ex.is(e))&&(ty.undefined(e.additionalTextEdits)||ty.typedArray(e.additionalTextEdits,ex.is))},(G=em||(t.FoldingRangeKind=em={})).Comment="comment",G.Imports="imports",G.Region="region",(K=eb||(t.FoldingRange=eb={})).create=function(e,t,n,r,i,s){var a={startLine:e,endLine:t};return ty.defined(n)&&(a.startCharacter=n),ty.defined(r)&&(a.endCharacter=r),ty.defined(i)&&(a.kind=i),ty.defined(s)&&(a.collapsedText=s),a},K.is=function(e){return ty.objectLiteral(e)&&ty.uinteger(e.startLine)&&ty.uinteger(e.startLine)&&(ty.undefined(e.startCharacter)||ty.uinteger(e.startCharacter))&&(ty.undefined(e.endCharacter)||ty.uinteger(e.endCharacter))&&(ty.undefined(e.kind)||ty.string(e.kind))},(J=ev||(t.DiagnosticRelatedInformation=ev={})).create=function(e,t){return{location:e,message:t}},J.is=function(e){return ty.defined(e)&&ed.is(e.location)&&ty.string(e.message)},(W=eA||(t.DiagnosticSeverity=eA={})).Error=1,W.Warning=2,W.Information=3,W.Hint=4,(Y=ey||(t.DiagnosticTag=ey={})).Unnecessary=1,Y.Deprecated=2,(eR||(t.CodeDescription=eR={})).is=function(e){return ty.objectLiteral(e)&&ty.string(e.href)},(z=ew||(t.Diagnostic=ew={})).create=function(e,t,n,r,i,s){var a={range:e,message:t};return ty.defined(n)&&(a.severity=n),ty.defined(r)&&(a.code=r),ty.defined(i)&&(a.source=i),ty.defined(s)&&(a.relatedInformation=s),a},z.is=function(e){var t;return ty.defined(e)&&el.is(e.range)&&ty.string(e.message)&&(ty.number(e.severity)||ty.undefined(e.severity))&&(ty.integer(e.code)||ty.string(e.code)||ty.undefined(e.code))&&(ty.undefined(e.codeDescription)||ty.string(null==(t=e.codeDescription)?void 0:t.href))&&(ty.string(e.source)||ty.undefined(e.source))&&(ty.undefined(e.relatedInformation)||ty.typedArray(e.relatedInformation,ev.is))},(X=eO||(t.Command=eO={})).create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return ty.defined(n)&&n.length>0&&(i.arguments=n),i},X.is=function(e){return ty.defined(e)&&ty.string(e.title)&&ty.string(e.command)},(Q=ex||(t.TextEdit=ex={})).replace=function(e,t){return{range:e,newText:t}},Q.insert=function(e,t){return{range:{start:e,end:e},newText:t}},Q.del=function(e){return{range:e,newText:""}},Q.is=function(e){return ty.objectLiteral(e)&&ty.string(e.newText)&&el.is(e.range)},(Z=ek||(t.ChangeAnnotation=ek={})).create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},Z.is=function(e){return ty.objectLiteral(e)&&ty.string(e.label)&&(ty.boolean(e.needsConfirmation)||void 0===e.needsConfirmation)&&(ty.string(e.description)||void 0===e.description)},(e_||(t.ChangeAnnotationIdentifier=e_={})).is=function(e){return ty.string(e)},(ee=eC||(t.AnnotatedTextEdit=eC={})).replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},ee.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},ee.del=function(e,t){return{range:e,newText:"",annotationId:t}},ee.is=function(e){return ex.is(e)&&(ek.is(e.annotationId)||e_.is(e.annotationId))},(et=eI||(t.TextDocumentEdit=eI={})).create=function(e,t){return{textDocument:e,edits:t}},et.is=function(e){return ty.defined(e)&&eL.is(e.textDocument)&&Array.isArray(e.edits)},(en=eE||(t.CreateFile=eE={})).create=function(e,t,n){var r={kind:"create",uri:e};return void 0!==t&&(void 0!==t.overwrite||void 0!==t.ignoreIfExists)&&(r.options=t),void 0!==n&&(r.annotationId=n),r},en.is=function(e){return e&&"create"===e.kind&&ty.string(e.uri)&&(void 0===e.options||(void 0===e.options.overwrite||ty.boolean(e.options.overwrite))&&(void 0===e.options.ignoreIfExists||ty.boolean(e.options.ignoreIfExists)))&&(void 0===e.annotationId||e_.is(e.annotationId))},(er=eS||(t.RenameFile=eS={})).create=function(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0!==n&&(void 0!==n.overwrite||void 0!==n.ignoreIfExists)&&(i.options=n),void 0!==r&&(i.annotationId=r),i},er.is=function(e){return e&&"rename"===e.kind&&ty.string(e.oldUri)&&ty.string(e.newUri)&&(void 0===e.options||(void 0===e.options.overwrite||ty.boolean(e.options.overwrite))&&(void 0===e.options.ignoreIfExists||ty.boolean(e.options.ignoreIfExists)))&&(void 0===e.annotationId||e_.is(e.annotationId))},(ei=eT||(t.DeleteFile=eT={})).create=function(e,t,n){var r={kind:"delete",uri:e};return void 0!==t&&(void 0!==t.recursive||void 0!==t.ignoreIfNotExists)&&(r.options=t),void 0!==n&&(r.annotationId=n),r},ei.is=function(e){return e&&"delete"===e.kind&&ty.string(e.uri)&&(void 0===e.options||(void 0===e.options.recursive||ty.boolean(e.options.recursive))&&(void 0===e.options.ignoreIfNotExists||ty.boolean(e.options.ignoreIfNotExists)))&&(void 0===e.annotationId||e_.is(e.annotationId))},(eP||(t.WorkspaceEdit=eP={})).is=function(e){return e&&(void 0!==e.changes||void 0!==e.documentChanges)&&(void 0===e.documentChanges||e.documentChanges.every(function(e){return ty.string(e.kind)?eE.is(e)||eS.is(e)||eT.is(e):eI.is(e)}))};var n,r,i,s,a,o,c,u,l,d,f,h,g,p,m,b,v,A,y,R,w,O,x,k,_,C,I,E,S,T,P,j,N,L,D,M,U,V,F,H,B,$,q,G,K,J,W,Y,z,X,Q,Z,ee,et,en,er,ei,es,ea,eo,ec,eu,el,ed,ef,eh,eg,ep,em,eb,ev,eA,ey,eR,ew,eO,ex,ek,e_,eC,eI,eE,eS,eT,eP,ej,eN,eL,eD,eM,eU,eV,eF,eH,eB,e$,eq,eG,eK,eJ,eW,eY,ez,eX,eQ,eZ,e0,e1,e2,e3,e5,e7,e8,e4,e6,e9,te,tt,tn,tr,ti,ts,ta,to,tc,tu,tl,td,tf,th,tg,tp,tm,tb,tv,tA,ty,tR=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=ex.insert(e,t):e_.is(n)?(i=n,r=eC.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=eC.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=ex.replace(e,t):e_.is(n)?(i=n,r=eC.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=eC.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=ex.del(e):e_.is(t)?(r=t,n=eC.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=eC.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw Error("Text edit change is not configured to manage change annotations.")},e}(),tw=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(e_.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw Error("Id ".concat(n," is already in use."));if(void 0===t)throw Error("No annotation provided for id ".concat(n));return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}();t.WorkspaceChange=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new tw(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(function(e){if(eI.is(e)){var n=new tR(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach(function(n){var r=new tR(e.changes[n]);t._textEditChanges[n]=r})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(eL.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version},n=this._textEditChanges[t.uri];if(!n){var r=[],i={textDocument:t,edits:r};this._workspaceEdit.documentChanges.push(i),n=new tR(r,this._changeAnnotations),this._textEditChanges[t.uri]=n}return n}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw Error("Workspace edit is not configured for normal text edit changes.");var n=this._textEditChanges[e];if(!n){var r=[];this._workspaceEdit.changes[e]=r,n=new tR(r),this._textEditChanges[e]=n}return n},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new tw,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){var r,i,s;if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");if(ek.is(t)||e_.is(t)?r=t:n=t,void 0===r?i=eE.create(e,n):(s=e_.is(r)?r:this._changeAnnotations.manage(r),i=eE.create(e,n,s)),this._workspaceEdit.documentChanges.push(i),void 0!==s)return s},e.prototype.renameFile=function(e,t,n,r){var i,s,a;if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");if(ek.is(n)||e_.is(n)?i=n:r=n,void 0===i?s=eS.create(e,t,r):(a=e_.is(i)?i:this._changeAnnotations.manage(i),s=eS.create(e,t,r,a)),this._workspaceEdit.documentChanges.push(s),void 0!==a)return a},e.prototype.deleteFile=function(e,t,n){var r,i,s;if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");if(ek.is(t)||e_.is(t)?r=t:n=t,void 0===r?i=eT.create(e,n):(s=e_.is(r)?r:this._changeAnnotations.manage(r),i=eT.create(e,n,s)),this._workspaceEdit.documentChanges.push(i),void 0!==s)return s},e}(),(n=ej||(t.TextDocumentIdentifier=ej={})).create=function(e){return{uri:e}},n.is=function(e){return ty.defined(e)&&ty.string(e.uri)},(r=eN||(t.VersionedTextDocumentIdentifier=eN={})).create=function(e,t){return{uri:e,version:t}},r.is=function(e){return ty.defined(e)&&ty.string(e.uri)&&ty.integer(e.version)},(i=eL||(t.OptionalVersionedTextDocumentIdentifier=eL={})).create=function(e,t){return{uri:e,version:t}},i.is=function(e){return ty.defined(e)&&ty.string(e.uri)&&(null===e.version||ty.integer(e.version))},(s=eD||(t.TextDocumentItem=eD={})).create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},s.is=function(e){return ty.defined(e)&&ty.string(e.uri)&&ty.string(e.languageId)&&ty.integer(e.version)&&ty.string(e.text)},(a=eM||(t.MarkupKind=eM={})).PlainText="plaintext",a.Markdown="markdown",a.is=function(e){return e===a.PlainText||e===a.Markdown},(eU||(t.MarkupContent=eU={})).is=function(e){return ty.objectLiteral(e)&&eM.is(e.kind)&&ty.string(e.value)},(o=eV||(t.CompletionItemKind=eV={})).Text=1,o.Method=2,o.Function=3,o.Constructor=4,o.Field=5,o.Variable=6,o.Class=7,o.Interface=8,o.Module=9,o.Property=10,o.Unit=11,o.Value=12,o.Enum=13,o.Keyword=14,o.Snippet=15,o.Color=16,o.File=17,o.Reference=18,o.Folder=19,o.EnumMember=20,o.Constant=21,o.Struct=22,o.Event=23,o.Operator=24,o.TypeParameter=25,(c=eF||(t.InsertTextFormat=eF={})).PlainText=1,c.Snippet=2,(eH||(t.CompletionItemTag=eH={})).Deprecated=1,(u=eB||(t.InsertReplaceEdit=eB={})).create=function(e,t,n){return{newText:e,insert:t,replace:n}},u.is=function(e){return e&&ty.string(e.newText)&&el.is(e.insert)&&el.is(e.replace)},(l=e$||(t.InsertTextMode=e$={})).asIs=1,l.adjustIndentation=2,(eq||(t.CompletionItemLabelDetails=eq={})).is=function(e){return e&&(ty.string(e.detail)||void 0===e.detail)&&(ty.string(e.description)||void 0===e.description)},(eG||(t.CompletionItem=eG={})).create=function(e){return{label:e}},(eK||(t.CompletionList=eK={})).create=function(e,t){return{items:e||[],isIncomplete:!!t}},(d=eJ||(t.MarkedString=eJ={})).fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},d.is=function(e){return ty.string(e)||ty.objectLiteral(e)&&ty.string(e.language)&&ty.string(e.value)},(eW||(t.Hover=eW={})).is=function(e){return!!e&&ty.objectLiteral(e)&&(eU.is(e.contents)||eJ.is(e.contents)||ty.typedArray(e.contents,eJ.is))&&(void 0===e.range||el.is(e.range))},(eY||(t.ParameterInformation=eY={})).create=function(e,t){return t?{label:e,documentation:t}:{label:e}},(ez||(t.SignatureInformation=ez={})).create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return ty.defined(t)&&(i.documentation=t),ty.defined(n)?i.parameters=n:i.parameters=[],i},(f=eX||(t.DocumentHighlightKind=eX={})).Text=1,f.Read=2,f.Write=3,(eQ||(t.DocumentHighlight=eQ={})).create=function(e,t){var n={range:e};return ty.number(t)&&(n.kind=t),n},(h=eZ||(t.SymbolKind=eZ={})).File=1,h.Module=2,h.Namespace=3,h.Package=4,h.Class=5,h.Method=6,h.Property=7,h.Field=8,h.Constructor=9,h.Enum=10,h.Interface=11,h.Function=12,h.Variable=13,h.Constant=14,h.String=15,h.Number=16,h.Boolean=17,h.Array=18,h.Object=19,h.Key=20,h.Null=21,h.EnumMember=22,h.Struct=23,h.Event=24,h.Operator=25,h.TypeParameter=26,(e0||(t.SymbolTag=e0={})).Deprecated=1,(e1||(t.SymbolInformation=e1={})).create=function(e,t,n,r,i){var s={name:e,kind:t,location:{uri:r,range:n}};return i&&(s.containerName=i),s},(e2||(t.WorkspaceSymbol=e2={})).create=function(e,t,n,r){return void 0!==r?{name:e,kind:t,location:{uri:n,range:r}}:{name:e,kind:t,location:{uri:n}}},(g=e3||(t.DocumentSymbol=e3={})).create=function(e,t,n,r,i,s){var a={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==s&&(a.children=s),a},g.is=function(e){return e&&ty.string(e.name)&&ty.number(e.kind)&&el.is(e.range)&&el.is(e.selectionRange)&&(void 0===e.detail||ty.string(e.detail))&&(void 0===e.deprecated||ty.boolean(e.deprecated))&&(void 0===e.children||Array.isArray(e.children))&&(void 0===e.tags||Array.isArray(e.tags))},(p=e5||(t.CodeActionKind=e5={})).Empty="",p.QuickFix="quickfix",p.Refactor="refactor",p.RefactorExtract="refactor.extract",p.RefactorInline="refactor.inline",p.RefactorRewrite="refactor.rewrite",p.Source="source",p.SourceOrganizeImports="source.organizeImports",p.SourceFixAll="source.fixAll",(m=e7||(t.CodeActionTriggerKind=e7={})).Invoked=1,m.Automatic=2,(b=e8||(t.CodeActionContext=e8={})).create=function(e,t,n){var r={diagnostics:e};return null!=t&&(r.only=t),null!=n&&(r.triggerKind=n),r},b.is=function(e){return ty.defined(e)&&ty.typedArray(e.diagnostics,ew.is)&&(void 0===e.only||ty.typedArray(e.only,ty.string))&&(void 0===e.triggerKind||e.triggerKind===e7.Invoked||e.triggerKind===e7.Automatic)},(v=e4||(t.CodeAction=e4={})).create=function(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):eO.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},v.is=function(e){return e&&ty.string(e.title)&&(void 0===e.diagnostics||ty.typedArray(e.diagnostics,ew.is))&&(void 0===e.kind||ty.string(e.kind))&&(void 0!==e.edit||void 0!==e.command)&&(void 0===e.command||eO.is(e.command))&&(void 0===e.isPreferred||ty.boolean(e.isPreferred))&&(void 0===e.edit||eP.is(e.edit))},(A=e6||(t.CodeLens=e6={})).create=function(e,t){var n={range:e};return ty.defined(t)&&(n.data=t),n},A.is=function(e){return ty.defined(e)&&el.is(e.range)&&(ty.undefined(e.command)||eO.is(e.command))},(y=e9||(t.FormattingOptions=e9={})).create=function(e,t){return{tabSize:e,insertSpaces:t}},y.is=function(e){return ty.defined(e)&&ty.uinteger(e.tabSize)&&ty.boolean(e.insertSpaces)},(R=te||(t.DocumentLink=te={})).create=function(e,t,n){return{range:e,target:t,data:n}},R.is=function(e){return ty.defined(e)&&el.is(e.range)&&(ty.undefined(e.target)||ty.string(e.target))},(w=tt||(t.SelectionRange=tt={})).create=function(e,t){return{range:e,parent:t}},w.is=function(e){return ty.objectLiteral(e)&&el.is(e.range)&&(void 0===e.parent||w.is(e.parent))},(O=tn||(t.SemanticTokenTypes=tn={})).namespace="namespace",O.type="type",O.class="class",O.enum="enum",O.interface="interface",O.struct="struct",O.typeParameter="typeParameter",O.parameter="parameter",O.variable="variable",O.property="property",O.enumMember="enumMember",O.event="event",O.function="function",O.method="method",O.macro="macro",O.keyword="keyword",O.modifier="modifier",O.comment="comment",O.string="string",O.number="number",O.regexp="regexp",O.operator="operator",O.decorator="decorator",(x=tr||(t.SemanticTokenModifiers=tr={})).declaration="declaration",x.definition="definition",x.readonly="readonly",x.static="static",x.deprecated="deprecated",x.abstract="abstract",x.async="async",x.modification="modification",x.documentation="documentation",x.defaultLibrary="defaultLibrary",(ti||(t.SemanticTokens=ti={})).is=function(e){return ty.objectLiteral(e)&&(void 0===e.resultId||"string"==typeof e.resultId)&&Array.isArray(e.data)&&(0===e.data.length||"number"==typeof e.data[0])},(k=ts||(t.InlineValueText=ts={})).create=function(e,t){return{range:e,text:t}},k.is=function(e){return null!=e&&el.is(e.range)&&ty.string(e.text)},(_=ta||(t.InlineValueVariableLookup=ta={})).create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},_.is=function(e){return null!=e&&el.is(e.range)&&ty.boolean(e.caseSensitiveLookup)&&(ty.string(e.variableName)||void 0===e.variableName)},(C=to||(t.InlineValueEvaluatableExpression=to={})).create=function(e,t){return{range:e,expression:t}},C.is=function(e){return null!=e&&el.is(e.range)&&(ty.string(e.expression)||void 0===e.expression)},(I=tc||(t.InlineValueContext=tc={})).create=function(e,t){return{frameId:e,stoppedLocation:t}},I.is=function(e){return ty.defined(e)&&el.is(e.stoppedLocation)},(E=tu||(t.InlayHintKind=tu={})).Type=1,E.Parameter=2,E.is=function(e){return 1===e||2===e},(S=tl||(t.InlayHintLabelPart=tl={})).create=function(e){return{value:e}},S.is=function(e){return ty.objectLiteral(e)&&(void 0===e.tooltip||ty.string(e.tooltip)||eU.is(e.tooltip))&&(void 0===e.location||ed.is(e.location))&&(void 0===e.command||eO.is(e.command))},(T=td||(t.InlayHint=td={})).create=function(e,t,n){var r={position:e,label:t};return void 0!==n&&(r.kind=n),r},T.is=function(e){return ty.objectLiteral(e)&&eu.is(e.position)&&(ty.string(e.label)||ty.typedArray(e.label,tl.is))&&(void 0===e.kind||tu.is(e.kind))&&void 0===e.textEdits||ty.typedArray(e.textEdits,ex.is)&&(void 0===e.tooltip||ty.string(e.tooltip)||eU.is(e.tooltip))&&(void 0===e.paddingLeft||ty.boolean(e.paddingLeft))&&(void 0===e.paddingRight||ty.boolean(e.paddingRight))},(tf||(t.StringValue=tf={})).createSnippet=function(e){return{kind:"snippet",value:e}},(th||(t.InlineCompletionItem=th={})).create=function(e,t,n,r){return{insertText:e,filterText:t,range:n,command:r}},(tg||(t.InlineCompletionList=tg={})).create=function(e){return{items:e}},(P=tp||(t.InlineCompletionTriggerKind=tp={})).Invoked=0,P.Automatic=1,(tm||(t.SelectedCompletionInfo=tm={})).create=function(e,t){return{range:e,text:t}},(tb||(t.InlineCompletionContext=tb={})).create=function(e,t){return{triggerKind:e,selectedCompletionInfo:t}},(tv||(t.WorkspaceFolder=tv={})).is=function(e){return ty.objectLiteral(e)&&ea.is(e.uri)&&ty.string(e.name)},t.EOL=["\n","\r\n","\r"],(j=tA||(t.TextDocument=tA={})).create=function(e,t,n,r){return new tO(e,t,n,r)},j.is=function(e){return!!(ty.defined(e)&&ty.string(e.uri)&&(ty.undefined(e.languageId)||ty.string(e.languageId))&&ty.uinteger(e.lineCount)&&ty.func(e.getText)&&ty.func(e.positionAt)&&ty.func(e.offsetAt))},j.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0,i=t.slice(0,r),s=t.slice(r);e(i,n),e(s,n);for(var a=0,o=0,c=0;a<i.length&&o<s.length;)0>=n(i[a],s[o])?t[c++]=i[a++]:t[c++]=s[o++];for(;a<i.length;)t[c++]=i[a++];for(;o<s.length;)t[c++]=s[o++];return t}(t,function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}),i=n.length,s=r.length-1;s>=0;s--){var a=r[s],o=e.offsetAt(a.range.start),c=e.offsetAt(a.range.end);if(c<=i)n=n.substring(0,o)+a.newText+n.substring(c,n.length);else throw Error("Overlapping edit");i=o}return n};var tO=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return eu.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var s=n-1;return eu.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();N=ty||(ty={}),L=Object.prototype.toString,N.defined=function(e){return void 0!==e},N.undefined=function(e){return void 0===e},N.boolean=function(e){return!0===e||!1===e},N.string=function(e){return"[object String]"===L.call(e)},N.number=function(e){return"[object Number]"===L.call(e)},N.numberRange=function(e,t,n){return"[object Number]"===L.call(e)&&t<=e&&e<=n},N.integer=function(e){return"[object Number]"===L.call(e)&&-0x80000000<=e&&e<=0x7fffffff},N.uinteger=function(e){return"[object Number]"===L.call(e)&&0<=e&&e<=0x7fffffff},N.func=function(e){return"[object Function]"===L.call(e)},N.objectLiteral=function(e){return null!==e&&"object"==typeof e},N.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}};if("object"==typeof t.exports){var s=i(void 0,n);void 0!==s&&(t.exports=s)}else"function"==typeof define&&define.amd&&define(["require","exports"],i)},{}],jax2A:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Line=void 0,n.Line=class{constructor(e,t){this.document=e,this.range=t}getRange(){return this.range}getTextContent(){return this.document.getText().substring(this.document.offsetAt(this.range.start),this.document.offsetAt(this.range.end))}isAfter(e){return this.range.start.line>e.range.start.line}isBefore(e){return this.range.start.line<e}}},{}],"7JXpr":[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Util=void 0;class i{static isUTF8BOM(e){let t=Uint8Array.from(Buffer.from(e,"UTF-8"));return 239===t[0]&&187==t[1]&&191==t[2]}static isWhitespace(e){return" "===e||"	"===e||i.isNewline(e)}static isNewline(e){return"\r"===e||"\n"===e}static findLeadingNonWhitespace(e,t){e:for(let n=0;n<e.length;n++)switch(e.charAt(n)){case" ":case"	":continue;case t:t:for(let t=n+1;t<e.length;t++)switch(e.charAt(t)){case" ":case"	":continue;case"\r":n=t+1;continue e;case"\n":n=t;continue e;default:break t}return -1;default:return n}return -1}static isInsideRange(e,t){return t.start.line===t.end.line?t.start.line===e.line&&t.start.character<=e.character&&e.character<=t.end.character:t.start.line===e.line?t.start.character<=e.character:t.end.line===e.line?e.character<=t.end.character:t.start.line<e.line&&e.line<t.end.line}static parseHeredocName(e){if("-"===(e=e.substring(2)).charAt(0)&&(e=e.substring(1)),'"'===e.charAt(0)){if('"'!==e.charAt(e.length-1))return null;e=e.substring(1,e.length-1)}if("'"===e.charAt(0)){if("'"!==e.charAt(e.length-1))return null;e=e.substring(1,e.length-1)}return"<"===e.charAt(0)?null:e}}n.Util=i},{}],aGQ73:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=void 0;let i=e("3eb2e9f72fa842bb"),s=e("34b2e1cd00de16ce"),a=e("9e92b8b410126e56"),o=e("777f0037af770a91"),c=e("1329dffc7d9471c6"),u=e("5065fff407b0cdf5"),l=e("aa6e0b7a0eb2c8a9"),d=e("62420b33948711ba"),f=e("44a1387c9f6642f8"),h=e("c3c835dbabebb0c"),g=e("a1a0bf4df6e06e65"),p=e("ac2ea75013335655"),m=e("fbf71dd210ee2ad2"),b=e("17f71289f1308509"),v=e("abac336e7fc664aa"),A=e("d4206ac9dc34f56c"),y=e("341b73fd8ae672e8"),R=e("44cf25b6f2d37d9"),w=e("9247ddaff67cb60c"),O=e("b96409d6175d837f"),x=e("4febb7a38de581a6"),k=e("50edac4bf8b150b0"),_=e("f9cdab4223270f96"),C=e("38bd78812b171580");class I{constructor(){this.escapeChar=null}static createInstruction(e,t,n,r,i,s){switch(i.toUpperCase()){case"ADD":return new u.Add(e,r,t,n,i,s);case"ARG":return new l.Arg(e,r,t,n,i,s);case"CMD":return new d.Cmd(e,r,t,n,i,s);case"COPY":return new f.Copy(e,r,t,n,i,s);case"ENTRYPOINT":return new g.Entrypoint(e,r,t,n,i,s);case"ENV":return new h.Env(e,r,t,n,i,s);case"FROM":return new p.From(e,r,t,n,i,s);case"HEALTHCHECK":return new m.Healthcheck(e,r,t,n,i,s);case"LABEL":return new b.Label(e,r,t,n,i,s);case"ONBUILD":return new v.Onbuild(e,r,t,n,i,s);case"RUN":return new A.Run(e,r,t,n,i,s);case"SHELL":return new y.Shell(e,r,t,n,i,s);case"STOPSIGNAL":return new R.Stopsignal(e,r,t,n,i,s);case"WORKDIR":return new w.Workdir(e,r,t,n,i,s);case"USER":return new O.User(e,r,t,n,i,s);case"VOLUME":return new x.Volume(e,r,t,n,i,s)}return new c.Instruction(e,r,t,n,i,s)}getParserDirectives(e,t){let n=[];this.escapeChar="";let r=+!!_.Util.isUTF8BOM(t.substring(0,1));n:for(let i=r;i<t.length;i++)switch(t.charAt(i)){case" ":case"	":break;case"\r":case"\n":default:break n;case"#":let r=-1,a=-1;for(let c=i+1;c<t.length;c++){let u=t.charAt(c);switch(u){case" ":case"	":-1!==r&&-1===a&&(a=c);break;case"\r":case"\n":break n;case"=":let l=-1,d=-1;-1===a&&(a=c);let f=t.length;r:for(let e=c+1;e<t.length;e++)switch(u=t.charAt(e)){case"\r":case"\n":-1!==l&&-1===d&&(d=e),f=e;break r;case"	":case" ":-1!==l&&-1===d&&(d=e);continue;default:-1===l&&(l=e)}if(-1===r)break n;-1===l?(l=c+1,d=f):-1===d&&(d=t.length);let h=s.Range.create(e.positionAt(i),e.positionAt(f)),g=s.Range.create(e.positionAt(r),e.positionAt(a)),p=s.Range.create(e.positionAt(l),e.positionAt(d));n.push(new o.ParserDirective(e,h,g,p)),r=-1,i="\r"===t.charAt(d)?d+1:d;continue n;default:-1===r&&(r=c)}}}return n}parse(e){this.document=i.TextDocument.create("","",0,e),this.buffer=e;let t=new k.Dockerfile(this.document),n=this.getParserDirectives(this.document,this.buffer),r=0;this.escapeChar="\\",n.length>0?(t.setDirectives(n),this.escapeChar=t.getEscapeCharacter(),r=this.document.offsetAt(s.Position.create(n.length,0))):_.Util.isUTF8BOM(e.substring(0,1))&&(r=1);for(let e=r;e<this.buffer.length;e++){let n=this.buffer.charAt(e);switch(n){case" ":case"	":case"\r":case"\n":break;case"#":e=this.processComment(t,e);break;default:e=this.processInstruction(t,n,e)}}return t.organizeComments(),t}processInstruction(e,t,n){let r=t,i=-1,s=!1;i:for(let a=n+1;a<this.buffer.length;a++)switch(t=this.buffer.charAt(a)){case this.escapeChar:if(s=!0,"\r"===(t=this.buffer.charAt(a+1))||"\n"===t)-1===i&&(i=a),a++;else if(" "===t||"	"===t){for(let e=a+2;e<this.buffer.length;e++)switch(this.buffer.charAt(e)){case" ":case"	":break;case"\r":case"\n":a=e;continue i;default:i=a+1,r+=this.escapeChar,a=e-2;continue i}i=a+1,r+=this.escapeChar;break i}else i=a+1,r+=this.escapeChar,s=!1;break;case" ":case"	":if(s){t:for(let e=a+1;e<this.buffer.length;e++)switch(this.buffer.charAt(e)){case" ":case"	":break;case"\r":case"\n":a=e;continue i;default:break t}s=!1}return -1===i&&(i=a),a=this.processArguments(e,r,i,n,a),e.addInstruction(this.createInstruction(e,r,n,i,a)),a;case"\r":case"\n":if(s)continue;return -1===i&&(i=a),e.addInstruction(this.createInstruction(e,r,n,a,a)),a;case"#":if(s)continue;default:i=a+1,r+=t,s=!1}return -1===i&&(i=this.buffer.length),e.addInstruction(this.createInstruction(e,r,n,i,this.buffer.length)),this.buffer.length}processHeredocs(e,t){let n=e.getKeyword();if(n===C.Keyword.ONBUILD){if(null===(e=e.getTriggerInstruction()))return t;n=e.getKeyword()}if(n!==C.Keyword.ADD&&n!==C.Keyword.COPY&&n!==C.Keyword.RUN)return t;let r=[];for(let t of e.getArguments()){let e=t.getValue();if(e.startsWith("<<")&&e.length>2){let t=_.Util.parseHeredocName(e);null!==t&&r.push(t)}}if(r.length>0)for(let e of r)t=this.parseHeredoc(e,t);return t}processArguments(e,t,n,r,i){let s=!1;s:for(let a=i+1;a<this.buffer.length;a++)switch(this.buffer.charAt(a)){case"\r":case"\n":if(s)continue;return this.processHeredocs(this.createInstruction(e,t,r,n,a),a);case this.escapeChar:let i=this.buffer.charAt(a+1);if("\n"===i||"\r"===i)s=!0,a++;else if(" "===i||"	"===i){for(let e=a+2;e<this.buffer.length;e++)switch(this.buffer.charAt(e)){case" ":case"	":break;case"\r":case"\n":s=!0;default:a=e;continue s}return this.buffer.length}continue;case"#":if(s){a=this.processComment(e,a);continue}break;case" ":case"	":break;default:s&&(s=!1)}return this.buffer.length}processComment(e,t){let n=this.buffer.length;a:for(let e=t+1;e<this.buffer.length;e++)switch(this.buffer.charAt(e)){case"\r":case"\n":n=e;break a}let r=s.Range.create(this.document.positionAt(t),this.document.positionAt(n));return e.addComment(new a.Comment(this.document,r)),n}parseHeredoc(e,t){let n=-1,r=!0;for(let i=t;i<this.buffer.length;i++)switch(this.buffer.charAt(i)){case" ":case"	":r=!1;break;case"\r":case"\n":if(-1!==n&&e===this.buffer.substring(n,i))return i;n=-1,r=!0;break;default:r&&(n=i,r=!1)}return this.buffer.length}createInstruction(e,t,n,r,i){let a=this.document.positionAt(n),o=s.Range.create(a,this.document.positionAt(r)),c=s.Range.create(a,this.document.positionAt(i));return I.createInstruction(this.document,e,this.escapeChar,c,t,o)}}n.Parser=I},{"3eb2e9f72fa842bb":"fnQzO","34b2e1cd00de16ce":"ghSGy","9e92b8b410126e56":"5T0KS","777f0037af770a91":"jIw2h","1329dffc7d9471c6":"hMvuU","5065fff407b0cdf5":"gRGNk",aa6e0b7a0eb2c8a9:"aKTxx","62420b33948711ba":"9Gc1y","44a1387c9f6642f8":"b3t88",c3c835dbabebb0c:"1F4QE",a1a0bf4df6e06e65:"a7xJN",ac2ea75013335655:"nTyT0",fbf71dd210ee2ad2:"bkMBh","17f71289f1308509":"57hgN",abac336e7fc664aa:"8eYDK",d4206ac9dc34f56c:"bBCsY","341b73fd8ae672e8":"j6kkx","44cf25b6f2d37d9":"bxm6V","9247ddaff67cb60c":"alCEF",b96409d6175d837f:"bSHO0","4febb7a38de581a6":"5fZdP","50edac4bf8b150b0":"040Bk",f9cdab4223270f96:"7JXpr","38bd78812b171580":"1irbL"}],fnQzO:[function(e,t,n,r){var i=this&&this.__spreadArray||function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},s=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=void 0;var n,r,s=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(t,n){for(var r=0;r<t.length;r++){var s=t[r];if(e.isIncremental(s)){var o=c(s.range),u=this.offsetAt(o.start),l=this.offsetAt(o.end);this._content=this._content.substring(0,u)+s.text+this._content.substring(l,this._content.length);var d=Math.max(o.start.line,0),f=Math.max(o.end.line,0),h=this._lineOffsets,g=a(s.text,!1,u);if(f-d===g.length)for(var p=0,m=g.length;p<m;p++)h[p+d+1]=g[p];else g.length<1e4?h.splice.apply(h,i([d+1,f-d],g,!1)):this._lineOffsets=h=h.slice(0,d+1).concat(g,h.slice(f+1));var b=s.text.length-(l-u);if(0!==b)for(var p=d+1+g.length,m=h.length;p<m;p++)h[p]=h[p]+b}else if(e.isFull(s))this._content=s.text,this._lineOffsets=void 0;else throw Error("Unknown change event received")}this._version=n},e.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=a(this._content,!0)),this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return{line:0,character:e};for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var s=n-1;return e=this.ensureBeforeEOL(e,t[s]),{line:s,character:e-t[s]}},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line];if(e.character<=0)return n;var r=e.line+1<t.length?t[e.line+1]:this._content.length,i=Math.min(n+e.character,r);return this.ensureBeforeEOL(i,n)},e.prototype.ensureBeforeEOL=function(e,t){for(;e>t&&o(this._content.charCodeAt(e-1));)e--;return e},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e.isIncremental=function(e){return null!=e&&"string"==typeof e.text&&void 0!==e.range&&(void 0===e.rangeLength||"number"==typeof e.rangeLength)},e.isFull=function(e){return null!=e&&"string"==typeof e.text&&void 0===e.range&&void 0===e.rangeLength},e}();function a(e,t,n){void 0===n&&(n=0);for(var r=t?[n]:[],i=0;i<e.length;i++){var s=e.charCodeAt(i);o(s)&&(13===s&&i+1<e.length&&10===e.charCodeAt(i+1)&&i++,r.push(n+i+1))}return r}function o(e){return 13===e||10===e}function c(e){var t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function u(e){var t=c(e.range);return t!==e.range?{newText:e.newText,range:t}:e}(n=r||(t.TextDocument=r={})).create=function(e,t,n,r){return new s(e,t,n,r)},n.update=function(e,t,n){if(e instanceof s)return e.update(t,n),e;throw Error("TextDocument.update: document must be created by TextDocument.create")},n.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0,i=t.slice(0,r),s=t.slice(r);e(i,n),e(s,n);for(var a=0,o=0,c=0;a<i.length&&o<s.length;)0>=n(i[a],s[o])?t[c++]=i[a++]:t[c++]=s[o++];for(;a<i.length;)t[c++]=i[a++];for(;o<s.length;)t[c++]=s[o++];return t}(t.map(u),function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}),i=0,s=[],a=0;a<r.length;a++){var o=r[a],c=e.offsetAt(o.range.start);if(c<i)throw Error("Overlapping edit");c>i&&s.push(n.substring(i,c)),o.newText.length&&s.push(o.newText),i=e.offsetAt(o.range.end)}return s.push(n.substr(i)),s.join("")}};if("object"==typeof t.exports){var a=s(void 0,n);void 0!==a&&(t.exports=a)}else"function"==typeof define&&define.amd&&define(["require","exports"],s)},{}],jIw2h:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.ParserDirective=void 0;let i=e("83344ee6e442f65c"),s=e("628c95531afa43c2");class a extends s.Line{constructor(e,t,n,r){super(e,t),this.nameRange=n,this.valueRange=r}toString(){return"# "+this.getName()+"="+this.getValue()}getNameRange(){return this.nameRange}getValueRange(){return this.valueRange}getName(){return this.document.getText().substring(this.document.offsetAt(this.nameRange.start),this.document.offsetAt(this.nameRange.end))}getValue(){return this.document.getText().substring(this.document.offsetAt(this.valueRange.start),this.document.offsetAt(this.valueRange.end))}getDirective(){let e=i.Directive[this.getName().toLowerCase()];return void 0===e?null:e}}n.ParserDirective=a},{"83344ee6e442f65c":"1irbL","628c95531afa43c2":"jax2A"}],hMvuU:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Instruction=void 0;let i=e("75e3371b54792caa"),s=e("fa72f15fb47197d2"),a=e("dc037d211747d0bf"),o=e("674d83a5e08e316f"),c=e("f30c1c980ba59082"),u=e("6c1e8830b0f0285c"),l=e("c02c05f3ca580f8f");class d extends a.Line{constructor(e,t,n,r,i,s){super(e,t),this.dockerfile=n,this.escapeChar=r,this.instruction=i,this.instructionRange=s}toString(){let e=this.getKeyword();for(let t of this.getRawArguments())e+=" ",e+=t.getValue();return e}getRangeContent(e){return null===e?null:this.document.getText().substring(this.document.offsetAt(e.start),this.document.offsetAt(e.end))}getInstructionRange(){return this.instructionRange}getInstruction(){return this.instruction}getKeyword(){return this.getInstruction().toUpperCase()}getArgumentsRange(){let e=this.getArguments();return 0===e.length?null:i.Range.create(e[0].getRange().start,e[e.length-1].getRange().end)}getArgumentsRanges(){let e=this.getArguments();if(0===e.length)return[];if(e[0].getRange().start.line===e[e.length-1].getRange().end.line)return[i.Range.create(e[0].getRange().start,e[e.length-1].getRange().end)];let t=[],n=-1,r=e[0].getRange().start,a=this.getInstructionRange(),o=this.document.offsetAt(r)-this.document.offsetAt(a.start),c=this.getTextContent().substring(o,this.document.offsetAt(e[e.length-1].getRange().end)-this.document.offsetAt(a.start)),u=this.document.offsetAt(a.start)+o,l=!1;for(let e=0;e<c.length;e++){let a=c.charAt(e);if(a===this.escapeChar){let s=c.charAt(e+1);if(" "===s||"	"===s)e:for(let s=e+2;s<c.length;s++)switch(c.charAt(s)){case" ":case"	":continue;case"\r":s++;case"\n":null!==r&&t.push(i.Range.create(r,this.document.positionAt(u+n+1))),r=null,l=!1,e=s;break e;default:break e}else"\r"===s?(null!==r&&(t.push(i.Range.create(r,this.document.positionAt(u+n+1))),r=null),l=!1,e+=2):("\n"===s&&(null!==r&&t.push(i.Range.create(r,this.document.positionAt(u+n+1))),r=null,l=!1),e++)}else if(s.Util.isNewline(a))l&&(r=null,l=!1);else if(!l){if(null===r){if("#"===a){l=!0;continue}let t=this.document.positionAt(u+e);0!==t.character&&(r=i.Position.create(t.line,0))}n=e}}return null===r?t.push(i.Range.create(this.document.positionAt(u+n),this.document.positionAt(u+n+1))):t.push(i.Range.create(r,this.document.positionAt(u+n+1))),t}getRawArgumentsContent(){let e=this.getArguments();return 0===e.length?null:this.getRangeContent(i.Range.create(e[0].getRange().start,e[e.length-1].getRange().end))}getArgumentsContent(){if(0===this.getArguments().length)return null;let e="",t=this.getArgumentsRanges(),n=this.document.getText();for(let r of t)e+=n.substring(this.document.offsetAt(r.start),this.document.offsetAt(r.end));return e}getArguments(){return this.getRawArguments()}getRawArguments(){let e=[],t=this.getInstructionRange(),n=this.document.offsetAt(t.end)-this.document.offsetAt(t.start),r=this.getTextContent().substring(n),a=this.document.offsetAt(t.start)+n,c=!1,u=!1,l=-1,d=!1,f=!1,h=-1,g="";for(let t=0;t<r.length;t++){let n=r.charAt(t);if(s.Util.isWhitespace(n))if(f){d=!0,s.Util.isNewline(n)&&(d=!1,u&&(u=!1,c=!0));continue}else -1!==l&&(-1===h?e.push(new o.Argument(g,i.Range.create(this.document.positionAt(a+l),this.document.positionAt(a+t)))):e.push(new o.Argument(g,i.Range.create(this.document.positionAt(a+l),this.document.positionAt(a+h)))),h=-1,g="",l=-1);else if(n===this.escapeChar){let s=r.charAt(t+1);if(" "===s||"	"===s)e:for(let e=t+2;e<r.length;e++)switch(r.charAt(e)){case" ":case"	":continue;case"\r":e++;case"\n":u=!1,f=!0,c=!0,-1!==l&&(h=t),t=e;break e;default:h=t,-1===l&&(t=e-1);break e}else if("\r"===s)u=!1,f=!0,c=!0,-1!==l&&-1===h&&(h=t),t+=2;else if("\n"===s)u=!1,f=!0,c=!0,-1!==l&&-1===h&&(h=t),t++;else{if(d&&-1!==h&&(e.push(new o.Argument(g,i.Range.create(this.document.positionAt(a+l),this.document.positionAt(a+h)))),g="",l=-1),h=-1,d=!1,f=!1,"$"===s)g=g+n+s;else if(""===s)break;else g+=s;-1===l&&(l=t),t++}}else u||(c&&"#"===n?u=!0:(d&&-1!==h&&(e.push(new o.Argument(g,i.Range.create(this.document.positionAt(a+l),this.document.positionAt(a+h)))),g="",l=-1),d=!1,f=!1,h=-1,g+=n,-1===l&&(l=t)),c=!1)}return -1!==l&&(-1===h?e.push(new o.Argument(g,i.Range.create(this.document.positionAt(a+l),this.document.positionAt(a+r.length)))):e.push(new o.Argument(g,i.Range.create(this.document.positionAt(a+l),this.document.positionAt(a+h))))),e}getExpandedArguments(){let e=this.getArguments();for(let t=0;t<e.length;t++){let n=e[t].getRange(),r=this.document.offsetAt(n.start),i=this.parseVariables(r,e[t].getValue()),s=[],a=!1;for(let e of i){let t=this.dockerfile.resolveVariable(e.getName(),e.getNameRange().start.line);s.push(t),a=a||void 0!==t}if(a){let a="";for(let e=0;e<s.length;e++){let t=i[e].getRange(),n=this.document.offsetAt(t.start),o=this.document.offsetAt(t.end);s[e]?(a+=this.document.getText().substring(r,n),a+=s[e]):a+=this.document.getText().substring(r,o),r=o}let c=this.document.offsetAt(n.end);c!==r&&(a+=this.document.getText().substring(r,c)),e[t]=new o.Argument(a,n)}}return e}getVariables(){let e=[];for(let t of this.getRawArguments()){let n=t.getRange(),r=this.document.getText().substring(this.document.offsetAt(n.start),this.document.offsetAt(n.end));for(let n of this.parseVariables(this.document.offsetAt(t.getRange().start),r))e.push(n)}return e}parseVariables(e,t){let n=[];o:for(let r=0;r<t.length;r++)switch(t.charAt(r)){case this.escapeChar:"$"===t.charAt(r+1)&&r++;break;case"$":if("{"===t.charAt(r+1)){let s="${",a="",o=-1,c="",l=-1,d=-1,f=-1;c:for(let h=r+2;h<t.length;h++){let g=t.charAt(h);switch(g){case this.escapeChar:for(let e=h+1;e<t.length;e++)switch(t.charAt(e)){case" ":case"	":case"\r":continue;case"\n":h=e;continue c}break;case"}":s+="}";let p=null,m=null,b=-1!==f?c:null,v=null;-1===o?o=h:o+1===h?(p="",m=i.Range.create(this.document.positionAt(e+o+1),this.document.positionAt(e+o+1))):(-1===l?(l=f+1,d=f+1):d+=1,p=t.substring(f,f+1),m=i.Range.create(this.document.positionAt(e+f),this.document.positionAt(e+f+1)),v=i.Range.create(this.document.positionAt(e+l),this.document.positionAt(e+d)));let A=this.document.positionAt(e+r);n.push(new u.Variable(a,i.Range.create(this.document.positionAt(e+r+2),this.document.positionAt(e+o)),i.Range.create(A,this.document.positionAt(e+h+1)),p,m,b,v,void 0!==this.dockerfile.resolveVariable(a,A.line),this.isBuildVariable(a,A.line),s)),r=h;continue o;case":":-1===o?o=h:-1!==f?(-1===l&&(l=h),d=h,c+=":"):f=h,s+=":";break;case"\n":case"\r":case" ":case"	":break;default:-1===o?a+=g:-1!==f?(-1===l&&(l=h),d=h,c+=g):f=h,s+=g}}}else{if(s.Util.isWhitespace(t.charAt(r+1))||r===t.length-1)continue;let a="";c:for(let s=r+1;s<t.length;s++){let o=t.charAt(s);switch(o){case"\r":case"\n":case" ":case"	":continue;case"$":case"'":case'"':let c=this.document.positionAt(e+r);n.push(new u.Variable(a,i.Range.create(this.document.positionAt(e+r+1),this.document.positionAt(e+s)),i.Range.create(c,this.document.positionAt(e+s)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(a,c.line),this.isBuildVariable(a,c.line),"$"+a)),r=s-1;continue o;case this.escapeChar:for(let e=s+1;e<t.length;e++)switch(t.charAt(e)){case" ":case"	":case"\r":continue;case"\n":s=e;continue c}let l=this.document.positionAt(e+r);n.push(new u.Variable(a,i.Range.create(this.document.positionAt(e+r+1),this.document.positionAt(e+s)),i.Range.create(l,this.document.positionAt(e+s)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(a,l.line),this.isBuildVariable(a,l.line),"$"+a));break o}if(null===o.match(/^[a-z0-9_]+$/i)){let t=this.document.positionAt(e+r);n.push(new u.Variable(a,i.Range.create(this.document.positionAt(e+r+1),this.document.positionAt(e+s)),i.Range.create(t,this.document.positionAt(e+s)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(a,t.line),this.isBuildVariable(a,t.line),"$"+a)),r=s-1;continue o}a+=o}let o=this.document.positionAt(e+r);n.push(new u.Variable(a,i.Range.create(this.document.positionAt(e+r+1),this.document.positionAt(e+t.length)),i.Range.create(o,this.document.positionAt(e+t.length)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(a,o.line),this.isBuildVariable(a,o.line),"$"+a))}break o}return n}isBuildVariable(e,t){if(this.getKeyword()===l.Keyword.FROM){for(let t of this.dockerfile.getInitialARGs()){let n=t.getProperty();if(n&&e===n.getName())return!0}return}let n=this.dockerfile.getContainingImage(i.Position.create(t,0)),r=n.getENVs();for(let n=r.length-1;n>=0;n--)if(r[n].isBefore(t)){for(let t of r[n].getProperties())if(t.getName()===e)return!1}let s=n.getARGs();for(let n=s.length-1;n>=0;n--)if(s[n].isBefore(t)){let t=s[n].getProperty();if(t&&t.getName()===e)return!0}}createSingleLineHeredocs(e){let t=[];for(let n of e){let e=n.getValue();if(e.startsWith("<<")&&null!==s.Util.parseHeredocName(e)){let e=n.getRange(),r=this.getNameRange(e),i=this.getName(r);t.push(new c.Heredoc(e,i,r,null,null))}}return t}getName(e){let t=this.document.getText(e),n=!1,r="";c:for(let e=0;e<t.length;e++){let i=t.charAt(e);switch(i){case this.escapeChar:n=!0;for(let n=e+1;n<t.length;n++)switch(t.charAt(n)){case" ":case"	":break;case"\r":e=n+1;continue c;case"\n":e=n;continue c;default:r+=t.charAt(n),e=n;continue c}break;case"#":if(n){for(let n=e+1;n<t.length;n++)if("\n"===t.charAt(n)){e=n;continue c}}case" ":case"	":case"\r":case"\n":if(n)break;default:r+=i}}return r}getNameRange(e){let t=this.document.getText(e),n=!1,r=!1,s=-1,a=-1,o=!1,c=null;u:for(let e=0;e<t.length;e++){let i=t.charAt(e);switch(i){case'"':case"'":if(c===i)break u;c=i;continue;case this.escapeChar:for(let n=e+1;n<t.length;n++)if("\n"===t.charAt(n)){o=!0,n=e;continue u}break;case" ":case"	":case"\r":case"\n":break;case"<":n?r=!0:n=!0;break;case"-":if(r){r=!1;break}case"#":if(o){for(let n=e+1;n<t.length;n++)if("\n"===t.charAt(n)){e=n;continue u}}default:if(-1===s&&(s=e),null!==c){a=e+1;break}break u}}if(-1===s)return i.Range.create(e.end,e.end);let u=this.document.positionAt(this.document.offsetAt(e.start)+s),l=null!==c?this.document.positionAt(this.document.offsetAt(e.start)+a):e.end;return i.Range.create(u,l)}getHeredocs(){let e=this.getArguments();if(0===e.length)return[];let t=[],n=this.getRange();if(n.start.line===n.end.line)return this.createSingleLineHeredocs(e);let r=[],s=!1,a=!1,o=-1,u=-1,l=-1,d=0,f=this.document.offsetAt(e[0].getRange().start),h=this.getRangeContent(i.Range.create(e[0].getRange().start,this.getRange().end));u:for(let n=0;n<h.length;n++)switch(h.charAt(n)){case this.escapeChar:a=!0;for(let e=n+1;e<h.length;e++)switch(h.charAt(e)){case" ":case"	":break;case"\r":e++;default:n=e;continue u}break;case"\r":break;case"\n":if(a)break;if(s){-1===o&&(o=n),u=n;let e=r[d],s=e.getRange(),a=this.getNameRange(s),h=this.getName(a),g=this.getDelimiterRange(e,h,i.Range.create(this.document.positionAt(f+l),this.document.positionAt(f+n)));if(null!==g){let e=i.Range.create(this.document.positionAt(f+o),this.document.positionAt(f+l-1));t.push(new c.Heredoc(s,h,a,e,g)),o=-1,d++}l=-1}else{let t=f+n;for(let n of e)if(this.document.offsetAt(n.getRange().start)<t)n.getValue().startsWith("<<")&&r.push(n);else break;s=!0,l=-1;continue}break;case" ":case"	":if(a)break;case"#":if(a){for(let e=n+1;e<h.length;e++)if("\n"===h.charAt(e)){n=e;continue u}}default:a&&(a=!1),s&&(-1===o&&(o=n),-1===l&&(l=n))}if(!s)return this.createSingleLineHeredocs(e);{let e=r[d],s=e.getRange(),a=this.getNameRange(s),h=this.getName(a),g=null,p=this.getDelimiterRange(e,h,i.Range.create(this.document.positionAt(f+l),n.end));null===p?g=i.Range.create(this.document.positionAt(f+o),n.end):-1!==u&&(g=i.Range.create(this.document.positionAt(f+o),this.document.positionAt(f+u))),t.push(new c.Heredoc(s,h,a,g,p)),d++;for(let e=d;e<r.length;e++){let e=r[d].getRange(),n=this.getNameRange(e),i=this.getName(n);t.push(new c.Heredoc(e,i,n,null,null)),d++}}return t}getDelimiterRange(e,t,n){let r=this.document.getText(n);if(e.getValue().startsWith("<<-")){let e=0;for(;"	"===r.charAt(e);)e++;return r.substring(e)===t?i.Range.create(i.Position.create(n.start.line,e),n.end):null}return r===t?n:null}}n.Instruction=d},{"75e3371b54792caa":"ghSGy",fa72f15fb47197d2:"7JXpr",dc037d211747d0bf:"jax2A","674d83a5e08e316f":"j0TZA",f30c1c980ba59082:"f2Bvm","6c1e8830b0f0285c":"eGHet",c02c05f3ca580f8f:"1irbL"}],f2Bvm:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Heredoc=void 0,n.Heredoc=class{constructor(e,t,n,r,i){this.startRange=e,this.name=t,this.nameRange=n,this.contentRange=r,this.endRange=i}getName(){return this.name}getStartRange(){return this.startRange}getNameRange(){return this.nameRange}getContentRange(){return this.contentRange}getDelimiterRange(){return this.endRange}}},{}],eGHet:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Variable=void 0,n.Variable=class{constructor(e,t,n,r,i,s,a,o,c,u){this.name=e,this.nameRange=t,this.range=n,this.modifier=r,this.modifierRange=i,this.substitutionParameter=s,this.substitutionRange=a,this.defined=o,this.buildVariable=c,this.stringValue=u}toString(){return this.stringValue}getName(){return this.name}getNameRange(){return this.nameRange}getRange(){return this.range}getModifier(){return this.modifier}getModifierRange(){return this.modifierRange}getSubstitutionParameter(){return this.substitutionParameter}getSubstitutionRange(){return this.substitutionRange}isDefined(){return this.defined}isBuildVariable(){return!0===this.buildVariable}isEnvironmentVariable(){return!1===this.buildVariable}}},{}],gRGNk:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Add=void 0;let i=e("45edbc923db84bc5");class s extends i.JSONInstruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}stopSearchingForFlags(e){return -1===e.indexOf("--")}}n.Add=s},{"45edbc923db84bc5":"jxSFH"}],jxSFH:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.JSONInstruction=void 0;let i=e("b67afa726af51201"),s=e("92c9241da20c9f3"),a=e("87f92bbce16b9f06"),o=e("96353d5546ff94dc");class c extends o.ModifiableInstruction{constructor(e,t,n,r,o,c){super(e,t,n,r,o,c),this.openingBracket=null,this.closingBracket=null,this.jsonStrings=[];let u=this.getRawArgumentsContent();if(null===u)return;let l=this.getArguments();if(1===l.length&&"[]"===l[0].getValue()){let e=l[0].getRange();this.openingBracket=new s.Argument("[",i.Range.create(e.start.line,e.start.character,e.start.line,e.start.character+1)),this.closingBracket=new s.Argument("]",i.Range.create(e.start.line,e.start.character+1,e.end.line,e.end.character));return}if(2===l.length&&"["===l[0].getValue()&&"]"===l[1].getValue()){this.openingBracket=l[0],this.closingBracket=l[1];return}let d=e.offsetAt(this.getArgumentsRange().start),f=-1,h="",g=!1,p="";l:for(let t=0;t<u.length;t++){let n=u.charAt(t);switch(n){case"[":if(""===h)this.openingBracket=new s.Argument("[",i.Range.create(e.positionAt(d+t),e.positionAt(d+t+1))),h="[";else if(g)p+=n;else break l;break;case'"':if("["===h||","===h){f=t,g=!0,h='"',p+=n;continue}if('"'===h)if(g)p+=n,g=!1,this.jsonStrings.push(new a.JSONArgument(p,i.Range.create(e.positionAt(d+f),e.positionAt(d+t+1)),i.Range.create(e.positionAt(d+f+1),e.positionAt(d+t)))),p="";else break l;else break l;break;case",":if(g)p+=n;else if('"'===h)h=",";else break l;break;case"]":if(g)p+=n;else if(""!==h){this.closingBracket=new s.Argument("]",i.Range.create(e.positionAt(d+t),e.positionAt(d+t+1)));break l}break;case" ":case"	":break;case"\\":if(g)switch(u.charAt(t+1)){case'"':case"\\":p+=u.charAt(t+1),t++;continue;case" ":case"	":t:for(let e=t+2;e<u.length;e++)switch(u.charAt(e)){case"\r":e++;case"\n":t=e;continue l;case" ":case"	":break;default:break t}break;case"\r":t++;default:t++;continue}else t:for(let e=t+1;e<u.length;e++)switch(u.charAt(e)){case"\r":e++;case"\n":t=e;continue l;case" ":case"	":break;default:break t}break l;default:if(!g)break l;p+=n}}}stopSearchingForFlags(e){return!0}getOpeningBracket(){return this.openingBracket}getJSONStrings(){return this.jsonStrings}getClosingBracket(){return this.closingBracket}}n.JSONInstruction=c},{b67afa726af51201:"ghSGy","92c9241da20c9f3":"j0TZA","87f92bbce16b9f06":"58ALy","96353d5546ff94dc":"hJrte"}],hJrte:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.ModifiableInstruction=void 0;let i=e("855ac039bce5641c"),s=e("709209d535932d47"),a=e("e9069bd7c795ab09");class o extends a.Instruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}getFlags(){if(!this.flags)for(let e of(this.flags=[],this.getArguments())){let t=e.getValue();if(this.stopSearchingForFlags(t))break;if(0===t.indexOf("--")){let n=e.getRange(),r=this.document.getText().substring(this.document.offsetAt(n.start),this.document.offsetAt(n.end)),a=t.indexOf("="),o=r.indexOf("="),c=!1,u=!1,l=-1;d:for(let e=0;e<r.length;e++)switch(r.charAt(e)){case"\\":case" ":case"	":case"\r":case"\n":break;case"-":if(u){l=e;break d}c?u=!0:c=!0;break;default:l=e;break d}let d=this.document.positionAt(this.document.offsetAt(n.start)+l);if(-1===o)this.flags.push(new s.Flag(this.document,n,t.substring(2),i.Range.create(d,n.end),null,null));else if(o===t.length-1){let e=this.document.positionAt(this.document.offsetAt(n.start)+o);this.flags.push(new s.Flag(this.document,n,t.substring(2,o),i.Range.create(d,e),"",i.Range.create(n.end,n.end)))}else{let e=this.document.positionAt(this.document.offsetAt(n.start)+o);this.flags.push(new s.Flag(this.document,n,t.substring(2,a),i.Range.create(d,e),t.substring(a+1),i.Range.create(this.document.positionAt(this.document.offsetAt(n.start)+o+1),n.end)))}}}return this.flags}getArguments(){let e=super.getArguments(),t=this.getFlags();if(0===t.length)return e;for(let n=0;n<t.length;n++)e.shift();return e}}n.ModifiableInstruction=o},{"855ac039bce5641c":"ghSGy","709209d535932d47":"2WqAd",e9069bd7c795ab09:"hMvuU"}],"2WqAd":[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Flag=void 0;let i=e("4b50d54787c41ee7"),s=e("b99c8b3ac173456d");n.Flag=class{constructor(e,t,n,r,i,s){if(this.options=[],this.range=t,this.name=n,this.nameRange=r,this.value=i,this.valueRange=s,null!==this.value){let t=e.offsetAt(s.start),n=-1,r=-1,a=!1;for(let s=0;s<i.length;s++)switch(i.charAt(s)){case"=":a=!0,-1===r&&(r=s+1);break;case",":this.options.push(this.createFlagOption(e,i,t,n,r,s)),n=-1,r=-1;break;default:-1===n&&(n=s)}a&&-1!==n&&this.options.push(this.createFlagOption(e,i,t,n,r,i.length))}}createFlagOption(e,t,n,r,a,o){let c=i.Range.create(e.positionAt(n+r),e.positionAt(n+o));return -1===a?new s.FlagOption(c,t.substring(r,o),c,null,null):new s.FlagOption(c,t.substring(r,a-1),i.Range.create(e.positionAt(n+r),e.positionAt(n+a-1)),t.substring(a,o),i.Range.create(e.positionAt(n+a),e.positionAt(n+o)))}toString(){return this.valueRange?"--"+this.name+"="+this.value:"--"+this.name}getRange(){return this.range}getName(){return this.name}getNameRange(){return this.nameRange}getValue(){return this.value}getValueRange(){return this.valueRange}getOption(e){for(let t of this.options)if(t.getName()===e)return t;return null}getOptions(){return this.options}hasOptions(){return this.options.length>0}}},{"4b50d54787c41ee7":"ghSGy",b99c8b3ac173456d:"epAH1"}],epAH1:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.FlagOption=void 0,n.FlagOption=class{constructor(e,t,n,r,i){this.range=e,this.name=t,this.nameRange=n,this.value=r,this.valueRange=i}toString(){return null!==this.valueRange?this.name+"="+this.value:this.name}getRange(){return this.range}getName(){return this.name}getNameRange(){return this.nameRange}getValue(){return this.value}getValueRange(){return this.valueRange}}},{}],aKTxx:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Arg=void 0;let i=e("80085cc42a36e81"),s=e("7526e7dfe4901c29");class a extends s.PropertyInstruction{constructor(e,t,n,r,s,a){super(e,t,n,r,s,a),this.property=null;let o=this.getPropertyArguments();1===o.length?this.property=new i.Property(this.document,this.escapeChar,o[0]):this.property=null}getProperty(){return this.property}}n.Arg=a},{"80085cc42a36e81":"gy5Z3","7526e7dfe4901c29":"hOqfp"}],gy5Z3:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Property=void 0;let i=e("e172fc4caa74424"),s=e("554d16feb7eb1735");class a{constructor(e,t,n,r){this.assignmentOperatorRange=null,this.assignmentOperator=null,this.valueRange=null,this.value=null,this.document=e,this.escapeChar=t,this.nameRange=a.getNameRange(e,n);let s=e.getText().substring(e.offsetAt(this.nameRange.start),e.offsetAt(this.nameRange.end));if(this.name=a.getValue(s,t),r)this.valueRange=r.getRange(),s=e.getText().substring(e.offsetAt(this.valueRange.start),e.offsetAt(this.valueRange.end)),this.value=a.getValue(s,t),this.range=i.Range.create(this.nameRange.start,this.valueRange.end);else{let r=n.getRange();this.nameRange.start.line===r.start.line&&this.nameRange.start.character===r.start.character&&this.nameRange.end.line===r.end.line&&this.nameRange.end.character===r.end.character||(this.valueRange=a.getValueRange(e,n),s=e.getText().substring(e.offsetAt(this.valueRange.start),e.offsetAt(this.valueRange.end)),this.value=a.getValue(s,t),this.assignmentOperatorRange=i.Range.create(this.nameRange.end,this.valueRange.start),this.assignmentOperator="="),this.range=r}}getRange(){return this.range}getName(){return this.name}getNameRange(){return this.nameRange}getValue(){return this.value}getValueRange(){return this.valueRange}getAssignmentOperator(){return this.assignmentOperator}getAssignmentOperatorRange(){return this.assignmentOperatorRange}getUnescapedValue(){if(null===this.valueRange)return null;let e=!1,t="",n=this.document.getText().substring(this.document.offsetAt(this.valueRange.start),this.document.offsetAt(this.valueRange.end));f:for(let r=0;r<n.length;r++){let i=n.charAt(r);switch(i){case this.escapeChar:for(let s=r+1;s<n.length;s++)switch(n.charAt(s)){case"\r":s++;case"\n":e=!0,r=s;continue f;case" ":case"	":break;default:t+=i;continue f}t+=i;break;case"\r":case"\n":break;case" ":case"	":e||(t+=i);break;case"#":if(e)for(let e=r+1;e<n.length;e++)switch(n.charAt(e)){case"\r":e++;case"\n":r=e;continue f}else t+=i;break;default:t+=i,e=!1}}return t}static getNameRange(e,t){let n=t.getValue(),r=n.indexOf("=");if(-1!==r){let s=n.charAt(0),a=n.charAt(r-1);if('"'===s&&'"'===a||"'"===s&&"'"===a||'"'!==s&&"'"!==s)return i.Range.create(t.getRange().start,e.positionAt(e.offsetAt(t.getRange().start)+r))}return t.getRange()}static getValueRange(e,t){return i.Range.create(e.positionAt(e.offsetAt(t.getRange().start)+t.getValue().indexOf("=")+1),e.positionAt(e.offsetAt(t.getRange().end)))}static getValue(e,t){let n=!1,r=s.Util.findLeadingNonWhitespace(e,t);0!==r&&"#"===e.charAt(r)&&(n=!0);let i=(e=e.substring(r)).charAt(0),a=e.charAt(e.length-1),o="'"===i||'"'===i,c="'"===i&&"'"===a,u=!1;if('"'===i)for(let n=1;n<e.length;n++)e.charAt(n)===t?n++:'"'===e.charAt(n)&&n===e.length-1&&(u=!0);(c||u)&&(e=e.substring(1,e.length-1));let l=-1,d="";h:for(let r=0;r<e.length;r++){let i=e.charAt(r);switch(i){case t:if(r+1===e.length){d+=t;break h}if(" "===(i=e.charAt(r+1))||"	"===i)e:for(let s=r+2;s<e.length;s++){let a=e.charAt(s);switch(a){case" ":case"	":break;case"\r":s++;case"\n":n=!0,r=s;continue h;default:if(!u&&!c&&!o){a===t?(d+=i,r+=1):(d=d+i+a,r=s);continue h}break e}}if(u){"\r"===i?(n=!0,r+=2):"\n"===i?(n=!0,r++):'"'!==i&&(i===t&&r++,d+=t);continue}if(c||o){"\r"===i?(n=!0,r+=2):"\n"===i?(n=!0,r++):d+=t;continue}i===t?(d+=t,r++):"\r"===i?(n=!0,r+=2):("\n"===i?n=!0:d+=i,r++);break;case" ":case"	":n&&-1===l&&(l=r),d+=i;break;case"\r":r++;case"\n":n&&-1!==l&&(d=d.substring(0,d.length-(r-l-1)),l=-1);break;case"#":if(n){-1!==l&&(d=d.substring(0,d.length-(r-l)),l=-1);g:for(let t=r+1;t<e.length;t++)switch(e.charAt(t)){case"\r":t++;case"\n":r=t;break g}continue}default:n&&(n=!1,l=-1),d+=i}}return d}}n.Property=a},{e172fc4caa74424:"ghSGy","554d16feb7eb1735":"7JXpr"}],hOqfp:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.PropertyInstruction=void 0;let i=e("fb005c0263efbd46"),s=e("ae3a92d2c36b7ea3"),a=e("39497e57ce0ffacf"),o=e("2f89de63f1f8e904"),c=e("ca53fbc43fccdebf");class u extends s.Instruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s),this.properties=void 0}getProperties(){if(void 0===this.properties){let e=this.getPropertyArguments();if(0===e.length)this.properties=[];else if(1===e.length)this.properties=[new a.Property(this.document,this.escapeChar,e[0])];else if(2===e.length)-1===e[0].getValue().indexOf("=")?this.properties=[new a.Property(this.document,this.escapeChar,e[0],e[1])]:this.properties=[new a.Property(this.document,this.escapeChar,e[0]),new a.Property(this.document,this.escapeChar,e[1])];else if(-1===e[0].getValue().indexOf("=")){let t=this.document.getText(),n=e[1].getRange().start,r=e[e.length-1].getRange().end;t=t.substring(this.document.offsetAt(n),this.document.offsetAt(r)),this.properties=[new a.Property(this.document,this.escapeChar,e[0],new o.Argument(t,i.Range.create(e[1].getRange().start,e[e.length-1].getRange().end)))]}else{this.properties=[];for(let t=0;t<e.length;t++)this.properties.push(new a.Property(this.document,this.escapeChar,e[t]))}}return this.properties}findTrailingNonWhitespace(e){let t=e.length;e:for(let n=e.length-1;n>=0;n--)switch(e.charAt(n)){case" ":case"	":continue;case"\n":"\r"===e.charAt(n-1)&&(n-=1);case"\r":g:for(let r=n-1;r>=0;r--)switch(e.charAt(r)){case" ":case"	":case"\r":case"\n":case this.escapeChar:continue;default:t=r;break g}break e;default:t=n;break e}return t}getPropertyArguments(){let e=[],t=this.getInstructionRange(),n=this.document.offsetAt(t.end),r=n-this.document.offsetAt(t.start),s=this.getTextContent(),a=s.substring(r),u=c.Util.findLeadingNonWhitespace(a,this.escapeChar);if(-1===u)return[];let l=this.document.positionAt(n+u),d=t.start.line!==l.line,f=!1,h=-1,g=this.findTrailingNonWhitespace(a);s=a.substring(u,g+1);let p=d?-1:0,m=!1;p:for(let t=0;t<s.length;t++){let r=s.charAt(t);switch(r){case this.escapeChar:if(t+1===s.length){f=!0;break p}switch(!d&&(h=t),s.charAt(t+1)){case" ":case"	":if(!c.Util.isWhitespace(s.charAt(t+2))){t+=1;continue}e:for(let r=t+2;r<s.length;r++)switch(s.charAt(r)){case"\r":r++;case"\n":d=!0,t=r;continue p;case" ":case"	":break;default:e.push(new o.Argument(s.substring(p,t),i.Range.create(this.document.positionAt(n+u+p),this.document.positionAt(n+u+t+2)))),p=r;break e}t=p-1;continue;case"\r":t++;case"\n":d=!0,t+=1;continue;case this.escapeChar:-1===p&&(p=t),t+=1;continue;default:-1===p&&(p=t);continue}case"'":case'"':m&&(this.createSpacedArgument(p,e,s,h,n,u),p=t,m=!1),-1===p&&(p=t);for(let a=t+1;a<s.length;a++)switch(s.charAt(a)){case r:if(" "!==s.charAt(a+1)&&""!==s.charAt(a+1)){t=a;continue p}e.push(new o.Argument(s.substring(p,a+1),i.Range.create(this.document.positionAt(n+u+p),this.document.positionAt(n+u+a+1)))),t=a,p=-1;continue p;case this.escapeChar:a++}break p;case" ":case"	":d?-1!==p&&(m=!0):-1!==p&&(e.push(new o.Argument(s.substring(p,t),i.Range.create(this.document.positionAt(n+u+p),this.document.positionAt(n+u+t)))),p=-1);break;case"\r":t++;case"\n":m=!1;break;case"#":if(d){for(let e=t+1;e<s.length;e++)switch(s.charAt(e)){case"\r":e++;case"\n":t=e,m=!1;continue p}if(-1!==p){let t=s.substring(p,h);e.push(new o.Argument(t,i.Range.create(this.document.positionAt(n+u+p),this.document.positionAt(n+u+h)))),p=-1}break p}-1===p&&(p=t);break;default:if(m&&(this.createSpacedArgument(p,e,s,h,n,u),p=t,m=!1),d=!1,-1===p&&(p=t),"$"===r&&"{"===s.charAt(t+1)){let e=!1,n=!1,r=!1;for(let i=t+1;i<s.length;i++)switch(s.charAt(i)){case this.escapeChar:r=!0;break;case"\r":case"\n":break;case"'":e=!e,r=!1;break;case'"':n=!n,r=!1;break;case" ":case"	":if(r||e||n)break;t=i-1;continue p;case"}":t=i;continue p;default:r=!1}break p}}}if(-1!==p&&p!==s.length){let t=f?s.length-1:s.length,r=s.substring(p,t);e.push(new o.Argument(r,i.Range.create(this.document.positionAt(n+u+p),this.document.positionAt(n+u+t))))}return e}createSpacedArgument(e,t,n,r,s,a){-1!==e&&t.push(new o.Argument(n.substring(e,r),i.Range.create(this.document.positionAt(s+a+e),this.document.positionAt(s+a+r))))}}n.PropertyInstruction=u},{fb005c0263efbd46:"ghSGy",ae3a92d2c36b7ea3:"hMvuU","39497e57ce0ffacf":"gy5Z3","2f89de63f1f8e904":"j0TZA",ca53fbc43fccdebf:"7JXpr"}],"9Gc1y":[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Cmd=void 0;let i=e("fadbfdfa374dda06");class s extends i.JSONInstruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}}n.Cmd=s},{fadbfdfa374dda06:"jxSFH"}],b3t88:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Copy=void 0;let i=e("65144230b131ca44");class s extends i.JSONInstruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}stopSearchingForFlags(e){return -1===e.indexOf("--")}getFromFlag(){let e=super.getFlags();return 1===e.length&&"from"===e[0].getName()?e[0]:null}getHeredocs(){return super.getHeredocs()}}n.Copy=s},{"65144230b131ca44":"jxSFH"}],"1F4QE":[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Env=void 0;let i=e("3dd682269c8a52ed");class s extends i.PropertyInstruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}getProperties(){return super.getProperties()}}n.Env=s},{"3dd682269c8a52ed":"hOqfp"}],a7xJN:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Entrypoint=void 0;let i=e("f651b847cf9bdc2");class s extends i.JSONInstruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}}n.Entrypoint=s},{f651b847cf9bdc2:"jxSFH"}],nTyT0:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.From=void 0;let i=e("5b86d61a77060318"),s=e("3fab8faba231e372");class a extends s.ModifiableInstruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}stopSearchingForFlags(e){return -1===e.indexOf("--")}getImage(){return this.getRangeContent(this.getImageRange())}getImageName(){return this.getRangeContent(this.getImageNameRange())}getImageNameRange(){let e=this.getImageRange();if(e){let t=this.getRegistryRange();t&&(e.start=this.document.positionAt(this.document.offsetAt(t.end)+1));let n=this.getImageTagRange(),r=this.getImageDigestRange();return null===n?null!==r&&(e.end=this.document.positionAt(this.document.offsetAt(r.start)-1)):e.end=this.document.positionAt(this.document.offsetAt(n.start)-1),e}return null}getImageRange(){let e=this.getArguments();return 0!==e.length?e[0].getRange():null}getImageTag(){return this.getRangeContent(this.getImageTagRange())}getImageTagRange(){let e=this.getImageRange();if(e){let t=this.document.offsetAt(e.start),n=this.getRangeContent(e),r=this.indexOf(t,n,"@"),s=n.indexOf("/");if(-1===r){let r=this.lastIndexOf(t,n,":");if(r>s)return i.Range.create(e.start.line,e.start.character+r+1,e.end.line,e.end.character)}let a=n.substring(0,r),o=a.indexOf(":");return -1===o?null:-1===s?i.Range.create(this.document.positionAt(t+o+1),this.document.positionAt(t+r)):o<s?null:i.Range.create(this.document.positionAt(t+o+1),this.document.positionAt(t+a.length))}return null}getImageDigest(){return this.getRangeContent(this.getImageDigestRange())}getImageDigestRange(){let e=this.getImageRange();if(e){let t=this.getRangeContent(e),n=this.lastIndexOf(this.document.offsetAt(e.start),t,"@");if(-1!==n)return i.Range.create(e.start.line,e.start.character+n+1,e.end.line,e.end.character)}return null}indexOf(e,t,n){let r=t.indexOf(n),i=this.getVariables();for(let s=0;s<i.length;s++){let a=e+r,o=i[s].getRange();if(this.document.offsetAt(o.start)<a&&a<this.document.offsetAt(o.end)){let i=this.document.offsetAt(o.end)-e,a=t.substring(i).indexOf(n);if(-1===a)return -1;r=a+i,s=-1;continue}}return r}lastIndexOf(e,t,n){let r=t.lastIndexOf(n),i=this.getVariables();for(let s=0;s<i.length;s++){let a=e+r,o=i[s].getRange();if(this.document.offsetAt(o.start)<a&&a<this.document.offsetAt(o.end)){if(-1===(r=t.substring(0,r).lastIndexOf(n)))return -1;s=-1;continue}}return r}getRegistry(){return this.getRangeContent(this.getRegistryRange())}getRegistryRange(){let e=this.getImageRange();if(e){let t=this.getImageTagRange(),n=this.getImageDigestRange();null===t?null!==n&&(e.end=this.document.positionAt(this.document.offsetAt(n.start)-1)):e.end=this.document.positionAt(this.document.offsetAt(t.start)-1);let r=this.getRangeContent(e),s=this.document.offsetAt(e.start),a=this.indexOf(s,r,"/");if(-1===a)return null;let o=this.indexOf(s,r,":"),c=this.indexOf(s,r,".");if(-1!==o||-1!==c||"localhost"===r.substring(0,a))return i.Range.create(e.start,this.document.positionAt(s+a))}return null}getBuildStage(){let e=this.getBuildStageRange();return null===e?null:this.getRangeContent(e)}getBuildStageRange(){let e=this.getArguments();return e.length>2&&"AS"===e[1].getValue().toUpperCase()?e[2].getRange():null}getPlatformFlag(){let e=super.getFlags();return 1===e.length&&"platform"===e[0].getName()?e[0]:null}}n.From=a},{"5b86d61a77060318":"ghSGy","3fab8faba231e372":"hJrte"}],bkMBh:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Healthcheck=void 0;let i=e("665598fff2f000a9");class s extends i.ModifiableInstruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}stopSearchingForFlags(e){return"CMD"===(e=e.toUpperCase())||"NONE"===e}getSubcommand(){let e=this.getArguments();return 0!==e.length?e[0]:null}}n.Healthcheck=s},{"665598fff2f000a9":"hJrte"}],"57hgN":[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Label=void 0;let i=e("2a3c43ab2d532e31"),s=e("5d28f2c31403599f");class a extends i.PropertyInstruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}getVariables(){let e=super.getVariables();for(let t of this.getProperties()){let n=t.getUnescapedValue();if(null!==n&&n.length>2&&"'"===n.charAt(0)&&"'"===n.charAt(n.length-1)){let n=t.getValueRange();for(let t=0;t<e.length;t++)s.Util.isInsideRange(e[t].getRange().start,n)&&(e.splice(t,1),t--)}}return e}getProperties(){return super.getProperties()}}n.Label=a},{"2a3c43ab2d532e31":"hOqfp","5d28f2c31403599f":"7JXpr"}],"8eYDK":[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Onbuild=void 0;let i=e("8cc927a606bbcc1f"),s=e("929a3cd6b7bd5151"),a=e("5311b0a026532a3");class o extends a.Instruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}getTrigger(){let e=this.getTriggerWord();return null===e?null:e.toUpperCase()}getTriggerWord(){return this.getRangeContent(this.getTriggerRange())}getTriggerRange(){let e=this.getArguments();return e.length>0?e[0].getRange():null}getTriggerInstruction(){let e=this.getTriggerRange();if(null===e)return null;let t=this.getArguments();return s.Parser.createInstruction(this.document,this.dockerfile,this.escapeChar,i.Range.create(t[0].getRange().start,this.getRange().end),this.getTriggerWord(),e)}}n.Onbuild=o},{"8cc927a606bbcc1f":"ghSGy","929a3cd6b7bd5151":"aGQ73","5311b0a026532a3":"hMvuU"}],bBCsY:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Run=void 0;let i=e("d3870bc430335c64");class s extends i.JSONInstruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}stopSearchingForFlags(e){return -1===e.indexOf("--")}getHeredocs(){return super.getHeredocs()}}n.Run=s},{d3870bc430335c64:"jxSFH"}],j6kkx:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Shell=void 0;let i=e("dc6aa9db0db2b2a4");class s extends i.JSONInstruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}}n.Shell=s},{dc6aa9db0db2b2a4:"jxSFH"}],bxm6V:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Stopsignal=void 0;let i=e("e3fce526f69f22f");class s extends i.Instruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}}n.Stopsignal=s},{e3fce526f69f22f:"hMvuU"}],alCEF:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Workdir=void 0;let i=e("95b77616cbe9ddd8");class s extends i.Instruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}getPath(){return this.getArgumentsContent()}getAbsolutePath(){let e=this.getPath();if(null===e||e.startsWith("/"))return e;let t=this.getRange().start.line,n=this.dockerfile.getStageHierarchy(t);for(let r=n.length-1;r>=0;r--){let i=n[r].getWORKDIRs();for(let n=i.length-1;n>=0;n--)if(i[n].getRange().start.line<t){let t=i[n].getAbsolutePath();if(null==t)return;return t.endsWith("/")?t+e:t+"/"+e}}}}n.Workdir=s},{"95b77616cbe9ddd8":"hMvuU"}],bSHO0:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.User=void 0;let i=e("1c67107403f9045a");class s extends i.Instruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}}n.User=s},{"1c67107403f9045a":"hMvuU"}],"5fZdP":[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Volume=void 0;let i=e("2200bfdb26148310");class s extends i.JSONInstruction{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}}n.Volume=s},{"2200bfdb26148310":"jxSFH"}],"040Bk":[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.Dockerfile=void 0;let i=e("9b3d375bed950159"),s=e("d891ee5557672a0b"),a=e("372addc62e869cb6"),o=e("3861ba9aa1dc6c84"),c=e("e6e9b77f8d4a922b"),u=e("d891ee5557672a0b");class l extends a.ImageTemplate{constructor(e){super(),this.initialInstructions=new a.ImageTemplate,this.buildStages=[],this.directives=[],this.foundFrom=!1,this.document=e}getEscapeCharacter(){for(let e of this.directives)if(e.getDirective()===s.Directive.escape){let t=e.getValue();if("\\"===t||"`"===t)return t}return"\\"}getInitialARGs(){return this.initialInstructions.getARGs()}getContainingImage(e){let t=i.Range.create(i.Position.create(0,0),this.document.positionAt(this.document.getText().length));if(!c.Util.isInsideRange(e,t))return null;if((this.initialInstructions.getComments().length>0||this.initialInstructions.getInstructions().length>0)&&c.Util.isInsideRange(e,this.initialInstructions.getRange()))return this.initialInstructions;for(let t of this.buildStages)if(c.Util.isInsideRange(e,t.getRange()))return t;return this}addInstruction(e){e.getKeyword()===u.Keyword.FROM?(this.currentBuildStage=new a.ImageTemplate,this.buildStages.push(this.currentBuildStage),this.foundFrom=!0):this.foundFrom||this.initialInstructions.addInstruction(e),this.foundFrom&&this.currentBuildStage.addInstruction(e),super.addInstruction(e)}setDirectives(e){this.directives=e}getDirective(){return 0===this.directives.length?null:this.directives[0]}getDirectives(){return this.directives}resolveVariable(e,t){for(let n of this.getFROMs()){let r=n.getRange();if(r.start.line<=t&&t<=r.end.line){let n=new a.ImageTemplate;for(let e of this.initialInstructions.getARGs())n.addInstruction(e);return n.resolveVariable(e,t)}}let n=this.getContainingImage(i.Position.create(t,0));if(null===n)return;let r=n.resolveVariable(e,t);if(null===r){let n=new a.ImageTemplate;for(let e of this.initialInstructions.getARGs())n.addInstruction(e);return n.resolveVariable(e,t)}return r}getAvailableVariables(e){if(this.getInstructionAt(e)instanceof o.From){let e=[];for(let t of this.getInitialARGs()){let n=t.getProperty();n&&e.push(n.getName())}return e}let t=this.getContainingImage(i.Position.create(e,0));return t?t.getAvailableVariables(e):[]}getParentStage(e){let t=e.getFROM(),n=null===t?null:t.getImageName();if(null===n)return null;for(let e of this.getFROMs())if(e.getBuildStage()===n){let n=e.getRange();if(n.start.line===t.getRange().start.line)return null;return this.getContainingImage(n.start)}return null}getStageHierarchy(e){let t=this.getContainingImage(i.Position.create(e,0));if(null===t)return[];let n=[t],r=this.getParentStage(t);for(;null!==r;)n.splice(0,0,r),r=this.getParentStage(r);return n}getAvailableWorkingDirectories(e){let t=new Set;for(let n of this.getStageHierarchy(e))for(let r of n.getWORKDIRs())if(r.getRange().end.line<e){let e=r.getAbsolutePath();null!=e&&(e.endsWith("/")||(e+="/"),t.add(e))}return Array.from(t)}organizeComments(){let e=this.getComments();for(let t=0;t<e.length;t++)if(c.Util.isInsideRange(e[t].getRange().end,this.initialInstructions.getRange()))this.initialInstructions.addComment(e[t]);else for(let n of this.buildStages)c.Util.isInsideRange(e[t].getRange().start,n.getRange())&&n.addComment(e[t])}getRange(){let e=this.getComments(),t=this.getInstructions(),n=null;if(0===e.length)t.length>0&&(n=i.Range.create(t[0].getRange().start,t[t.length-1].getRange().end));else if(0===t.length)n=i.Range.create(e[0].getRange().start,e[e.length-1].getRange().end);else{let r=e[0].getRange().start,s=e[e.length-1].getRange().end,a=t[0].getRange().start,o=t[t.length-1].getRange().end;r.line<a.line?(s.line<o.line&&(n=i.Range.create(r,o)),n=i.Range.create(r,s)):n=s.line<o.line?i.Range.create(a,o):i.Range.create(a,s)}return null===n?0===this.directives.length?null:this.directives[0].getRange():0===this.directives.length?n:i.Range.create(this.directives[0].getRange().start,n.end)}}n.Dockerfile=l},{"9b3d375bed950159":"ghSGy",d891ee5557672a0b:"1irbL","372addc62e869cb6":"dfryE","3861ba9aa1dc6c84":"nTyT0",e6e9b77f8d4a922b:"7JXpr"}],dfryE:[function(e,t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.ImageTemplate=void 0;let i=e("637eaa8a1fc84367"),s=e("8d6e1611976d457"),a=e("7049fdb6ce6cfe77"),o=e("18fb214fae92c2ad"),c=e("ed7edb89b8b53c18"),u=e("404b55dc97f3131e"),l=e("8a1e47b88288dfaa"),d=e("67d1d9c7cde52290"),f=e("434b828c9fd563cf"),h=e("94e3edfa252cd826"),g=e("97943bcfae78dd09");n.ImageTemplate=class{constructor(){this.comments=[],this.instructions=[]}addComment(e){this.comments.push(e)}getComments(){return this.comments}addInstruction(e){this.instructions.push(e)}getInstructions(){return this.instructions}getInstructionAt(e){for(let t of this.instructions)if(h.Util.isInsideRange(i.Position.create(e,0),t.getRange()))return t;return null}getARGs(){let e=[];for(let t of this.instructions)t instanceof s.Arg&&e.push(t);return e}getCMDs(){let e=[];for(let t of this.instructions)t instanceof a.Cmd&&e.push(t);return e}getCOPYs(){let e=[];for(let t of this.instructions)t instanceof o.Copy&&e.push(t);return e}getENTRYPOINTs(){let e=[];for(let t of this.instructions)t instanceof u.Entrypoint&&e.push(t);return e}getENVs(){let e=[];for(let t of this.instructions)t instanceof c.Env&&e.push(t);return e}getFROM(){for(let e of this.instructions)if(e instanceof l.From)return e;return null}getFROMs(){let e=[];for(let t of this.instructions)t instanceof l.From&&e.push(t);return e}getHEALTHCHECKs(){let e=[];for(let t of this.instructions)t instanceof d.Healthcheck&&e.push(t);return e}getWORKDIRs(){let e=[];for(let t of this.instructions)t instanceof g.Workdir&&e.push(t);return e}getOnbuildTriggers(){let e=[];for(let t of this.instructions)if(t instanceof f.Onbuild){let n=t.getTriggerInstruction();n&&e.push(n)}return e}getAvailableVariables(e){let t=[];for(let n of this.getARGs())if(n.isBefore(e)){let e=n.getProperty();if(e){let n=e.getName();-1===t.indexOf(n)&&t.push(n)}}for(let n of this.getENVs())if(n.isBefore(e))for(let e of n.getProperties()){let n=e.getName();-1===t.indexOf(n)&&t.push(n)}return t}resolveVariable(e,t){let n=this.getENVs();for(let r=n.length-1;r>=0;r--)if(n[r].isBefore(t)){for(let t of n[r].getProperties())if(t.getName()===e)return t.getValue()}let r=this.getARGs();for(let n=r.length-1;n>=0;n--)if(r[n].isBefore(t)){let t=r[n].getProperty();if(t&&t.getName()===e)return t.getValue()}}getRange(){let e=this.getInstructions();if(0===e.length)return i.Range.create(0,0,0,0);let t=e[0].getRange().start,n=e[e.length-1].getRange().end;return i.Range.create(t,n)}contains(e){let t=this.getRange();return null!==t&&h.Util.isInsideRange(e,t)}}},{"637eaa8a1fc84367":"ghSGy","8d6e1611976d457":"aKTxx","7049fdb6ce6cfe77":"9Gc1y","18fb214fae92c2ad":"b3t88",ed7edb89b8b53c18:"1F4QE","404b55dc97f3131e":"a7xJN","8a1e47b88288dfaa":"nTyT0","67d1d9c7cde52290":"bkMBh","434b828c9fd563cf":"8eYDK","94e3edfa252cd826":"7JXpr","97943bcfae78dd09":"alCEF"}],kHqLa:[function(e,t,n,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(n),i.export(n,"run",()=>u),i.export(n,"runPiped",()=>l);var s=e("spawn-please"),a=i.interopDefault(s),o=e("child_process"),c=i.interopDefault(o);async function u(e,t){try{return await (0,a.default)(e,t)}catch(n){throw console.error(`Error running command: ${e} ${t.join(" ")}`),n}}async function l([e,t],[n,r]){let i=c.default.spawn(e,t,{stdio:["inherit","pipe","inherit"]}),s=c.default.spawn(n,r,{stdio:["pipe","inherit","inherit"]});i.stdout.pipe(s.stdin),await Promise.all([d(i),d(s)])}function d(e){return new Promise((t,n)=>{e.on("error",e=>{n(e)}),e.on("close",e=>{0!==e&&n(Error(`process exited with code ${e}`)),t()})})}},{"spawn-please":"7zP4I",child_process:"child_process","@parcel/transformer-js/src/esmodule-helpers.js":"8h9S8"}],"7zP4I":[function(e,t,n,r){let i=e("8fbf49fd88b8ce1a");t.exports=(e,t,n={},r={})=>{void 0===n.rejectOnError&&(n.rejectOnError=!0);let s="",a="",o=i(e,t,r);return new Promise((e,t)=>{void 0!==n.stdin&&null!=n.stdin&&o.stdin.write(n.stdin),o.stdin.end(),o.stdout.on("data",e=>{s+=e,n.stdout&&n.stdout(e)}),o.stderr.on("data",e=>{a+=e,n.stderr&&n.stderr(e)}),n.rejectOnError&&o.addListener("error",t),o.on("close",r=>{0!==r&&n.rejectOnError?t(a):e({stdout:s,stderr:a})})})}},{"8fbf49fd88b8ce1a":"gOFfe"}],gOFfe:[function(e,t,n,r){let i=e("5db4eea157dc6abd"),s=e("f459d4faad83418d"),a=e("5967fe713a07bdb3");function o(e,t,n){let r=s(e,t,n),o=i.spawn(r.command,r.args,r.options);return a.hookChildProcess(o,r),o}t.exports=o,t.exports.spawn=o,t.exports.sync=function(e,t,n){let r=s(e,t,n),o=i.spawnSync(r.command,r.args,r.options);return o.error=o.error||a.verifyENOENTSync(o.status,r),o},t.exports._parse=s,t.exports._enoent=a},{"5db4eea157dc6abd":"child_process",f459d4faad83418d:"hSOoE","5967fe713a07bdb3":"e03Rd"}],hSOoE:[function(e,t,n,r){let i=e("bb49ff520c0c29ab"),s=e("cf8451362f6c35b9"),a=e("f76fb8d716c0dfc3"),o=e("91585cdbf7f6adf6"),c="win32"===process.platform,u=/\.(?:com|exe)$/i,l=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;t.exports=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);let r={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?r:function(e){if(!c)return e;let t=function(e){e.file=s(e);let t=e.file&&o(e.file);return t?(e.args.unshift(e.file),e.command=t,s(e)):e.file}(e),n=!u.test(t);if(e.options.forceShell||n){let n=l.test(t);e.command=i.normalize(e.command),e.command=a.command(e.command),e.args=e.args.map(e=>a.argument(e,n));let r=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${r}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}(r)}},{bb49ff520c0c29ab:"path",cf8451362f6c35b9:"iyIqb",f76fb8d716c0dfc3:"kqk3O","91585cdbf7f6adf6":"9LoJM"}],iyIqb:[function(e,t,n,r){let i=e("23fb8fe1b2d52b3"),s=e("f9b07d03c0b43245"),a=e("ef7a99e848f61b11");function o(e,t){let n,r=e.options.env||process.env,o=process.cwd(),c=null!=e.options.cwd,u=c&&void 0!==process.chdir&&!process.chdir.disabled;if(u)try{process.chdir(e.options.cwd)}catch(e){}try{n=s.sync(e.command,{path:r[a({env:r})],pathExt:t?i.delimiter:void 0})}catch(e){}finally{u&&process.chdir(o)}return n&&(n=i.resolve(c?e.options.cwd:"",n)),n}t.exports=function(e){return o(e)||o(e,!0)}},{"23fb8fe1b2d52b3":"path",f9b07d03c0b43245:"g0W6J",ef7a99e848f61b11:"7G1S5"}],g0W6J:[function(e,t,n,r){let i="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,s=e("1c762486b04d50e4"),a=i?";":":",o=e("e2e7d3eebf2f2d35"),c=e=>Object.assign(Error(`not found: ${e}`),{code:"ENOENT"}),u=(e,t)=>{let n=t.colon||a,r=e.match(/\//)||i&&e.match(/\\/)?[""]:[...i?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],s=i?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=i?s.split(n):[""];return i&&-1!==e.indexOf(".")&&""!==o[0]&&o.unshift(""),{pathEnv:r,pathExt:o,pathExtExe:s}},l=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});let{pathEnv:r,pathExt:i,pathExtExe:a}=u(e,t),l=[],d=n=>new Promise((i,a)=>{if(n===r.length)return t.all&&l.length?i(l):a(c(e));let o=r[n],u=/^".*"$/.test(o)?o.slice(1,-1):o,d=s.join(u,e);i(f(!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d,n,0))}),f=(e,n,r)=>new Promise((s,c)=>{if(r===i.length)return s(d(n+1));let u=i[r];o(e+u,{pathExt:a},(i,a)=>{if(!i&&a)if(!t.all)return s(e+u);else l.push(e+u);return s(f(e,n,r+1))})});return n?d(0).then(e=>n(null,e),n):d(0)};t.exports=l,l.sync=(e,t)=>{let{pathEnv:n,pathExt:r,pathExtExe:i}=u(e,t=t||{}),a=[];for(let c=0;c<n.length;c++){let u=n[c],l=/^".*"$/.test(u)?u.slice(1,-1):u,d=s.join(l,e),f=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;for(let e=0;e<r.length;e++){let n=f+r[e];try{if(o.sync(n,{pathExt:i}))if(!t.all)return n;else a.push(n)}catch(e){}}}if(t.all&&a.length)return a;if(t.nothrow)return null;throw c(e)}},{"1c762486b04d50e4":"path",e2e7d3eebf2f2d35:"1pcPz"}],"1pcPz":[function(e,t,n,r){var i;function s(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw TypeError("callback not provided");return new Promise(function(n,r){s(e,t||{},function(e,t){e?r(e):n(t)})})}i(e,t||{},function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)})}e("17f23b75862c81ed"),i="win32"===process.platform||global.TESTING_WINDOWS?e("b33dbc941d5fe763"):e("5d6b0a3a2e570368"),t.exports=s,s.sync=function(e,t){try{return i.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},{"17f23b75862c81ed":"fs",b33dbc941d5fe763:"cwCNN","5d6b0a3a2e570368":"hTVe9"}],cwCNN:[function(e,t,n,r){t.exports=a,a.sync=function(e,t){return s(i.statSync(e),e,t)};var i=e("fa970ff537f37d97");function s(e,t,n){if(!e.isSymbolicLink()&&!e.isFile())return!1;var r=void 0!==n.pathExt?n.pathExt:process.env.PATHEXT;if(!r||-1!==(r=r.split(";")).indexOf(""))return!0;for(var i=0;i<r.length;i++){var s=r[i].toLowerCase();if(s&&t.substr(-s.length).toLowerCase()===s)return!0}return!1}function a(e,t,n){i.stat(e,function(r,i){n(r,!r&&s(i,e,t))})}},{fa970ff537f37d97:"fs"}],hTVe9:[function(e,t,n,r){t.exports=s,s.sync=function(e,t){return a(i.statSync(e),t)};var i=e("ccfd6a39e8d0b5a7");function s(e,t,n){i.stat(e,function(e,r){n(e,!e&&a(r,t))})}function a(e,t){var n,r,i,s,a,o,c,u,l;return e.isFile()&&(n=e,r=t,i=n.mode,s=n.uid,a=n.gid,o=void 0!==r.uid?r.uid:process.getuid&&process.getuid(),c=void 0!==r.gid?r.gid:process.getgid&&process.getgid(),u=parseInt("100",8),l=parseInt("010",8),i&parseInt("001",8)||i&l&&a===c||i&u&&s===o||i&(u|l)&&0===o)}},{ccfd6a39e8d0b5a7:"fs"}],"7G1S5":[function(e,t,n,r){let i=(e={})=>{let t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};t.exports=i,t.exports.default=i},{}],kqk3O:[function(e,t,n,r){let i=/([()\][%!^"`<>&|;, *?])/g;t.exports.command=function(e){return e=e.replace(i,"^$1")},t.exports.argument=function(e,t){return e=(e=(e=`${e}`).replace(/(?=(\\+?)?)\1"/g,'$1$1\\"')).replace(/(?=(\\+?)?)\1$/,"$1$1"),e=(e=`"${e}"`).replace(i,"^$1"),t&&(e=e.replace(i,"^$1")),e}},{}],"9LoJM":[function(e,t,n,r){let i=e("2fc5e4232a07a9d2"),s=e("c4e857260abf33c0");t.exports=function(e){let t,n=Buffer.alloc(150);try{t=i.openSync(e,"r"),i.readSync(t,n,0,150,0),i.closeSync(t)}catch(e){}return s(n.toString())}},{"2fc5e4232a07a9d2":"fs",c4e857260abf33c0:"drkAo"}],drkAo:[function(e,t,n,r){let i=e("9df9c2d321a8ee95");t.exports=(e="")=>{let t=e.match(i);if(!t)return null;let[n,r]=t[0].replace(/#! ?/,"").split(" "),s=n.split("/").pop();return"env"===s?r:r?`${s} ${r}`:s}},{"9df9c2d321a8ee95":"gq3Q3"}],gq3Q3:[function(e,t,n,r){t.exports=/^#!(.*)/},{}],e03Rd:[function(e,t,n,r){let i="win32"===process.platform;function s(e,t){return Object.assign(Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function a(e,t){return i&&1===e&&!t.file?s(t.original,"spawn"):null}t.exports={hookChildProcess:function(e,t){if(!i)return;let n=e.emit;e.emit=function(r,i){if("exit"===r){let r=a(i,t);if(r)return n.call(e,"error",r)}return n.apply(e,arguments)}},verifyENOENT:a,verifyENOENTSync:function(e,t){return i&&1===e&&!t.file?s(t.original,"spawnSync"):null},notFoundError:s}},{}],"14eXt":[function(e,t,n,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(n),i.export(n,"extractCaches",()=>d);var s=e("fs"),a=e("path"),o=i.interopDefault(a),c=e("./opts.js"),u=e("./run.js");async function l(e,t,n,r,i){let a=new Date().toISOString();await s.promises.mkdir(n,{recursive:!0}),await s.promises.writeFile(o.default.join(n,"buildstamp"),a);let l=(0,c.getTargetPath)(t),d=(0,c.getMountArgsString)(t),f=`
FROM ${r}
COPY buildstamp buildstamp
RUN --mount=${d} \
    mkdir -p /var/dance-cache/ \
    && cp -p -R ${l}/. /var/dance-cache/ || true
`;await s.promises.writeFile(o.default.join(n,"Dancefile.extract"),f),console.log(f),await (0,u.run)("docker",["buildx","build","--builder",i,"-f",o.default.join(n,"Dancefile.extract"),"--tag","dance:extract","--load",n]);try{await (0,u.run)("docker",["rm","-f","cache-container"])}catch(e){}await (0,u.run)("docker",["create","-ti","--name","cache-container","dance:extract"]),await (0,u.runPiped)(["docker",["cp","-L","cache-container:/var/dance-cache","-"]],["tar",["-H","posix","-x","-C",n]]),await (0,u.run)("sudo",["rm","-rf",e]),await s.promises.rename(o.default.join(n,"dance-cache"),e)}async function d(e){if(e["skip-extraction"])return void console.log("skip-extraction is set. Skipping extraction step...");let t=await (0,c.getCacheMap)(e),n=e["scratch-dir"],r=e["utility-image"],i=(0,c.getBuilder)(e);for(let[e,s]of Object.entries(t))await l(e,s,n,r,i)}},{fs:"fs",path:"path","./opts.js":"bjlzi","./run.js":"kHqLa","@parcel/transformer-js/src/esmodule-helpers.js":"8h9S8"}]},["7sz5b"],"7sz5b","parcelRequire86b4",{fs:e,os:t,path:n,http:r,https:i,net:s,tls:a,events:o,assert:c,util:u,child_process:l});let{}=parcelRequire86b4("7sz5b");
//# sourceMappingURL=index.js.map
